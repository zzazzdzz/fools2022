# fools2022 - autogenerated map file, please do not change!
# created from: pokeemerald/data/maps/x1732_AlteringCave/map.json

.thumb
.include "include/constants.inc"
.org MAP_LOAD_BASE

.include "include/macros.inc"
.include "include/symbols.inc"
.include "include/map.inc"
.include "include/event.inc"
.include "include/save.inc"

AlteringCave_MapHeader:
    .word AlteringCave_MapLayout
    .word AlteringCave_MapEvts
    .word NULL
    .word NULL
    .hword MUS_PETALBURG_WOODS
    .hword 0
    .byte 0
    .byte 0
    .byte WEATHER_NONE
    .byte 0
    .hword 0
    map_header_flags allow_cycling=1, allow_escaping=1, allow_running=1, show_map_name=1
    .byte 0
    # additional data specific to fools2022 maps
    .word AlteringCave_MapInitCode+1
    .word AlteringCave_MapConnections
    .word AlteringCave_MapInitScript
    .word AlteringCave_MapName
    .word 0x0418

AlteringCave_MapLayout:
    .word 24
    .word 24
    .word AlteringCave_MapBorder
    .word AlteringCave_MapData
    .word gTileset_General
    .word gTileset_Cave

.align 4
AlteringCave_MapObjectEvents:
    object_event 1, OBJ_EVENT_GFX_FOSSIL, 0, 3, 3, 3, MOVEMENT_TYPE_NONE, 0, 0, TRAINER_TYPE_NONE, 0, AlteringCave_Fossil, FLAG_ALTERING_CAVE_DOME

.align 4
AlteringCave_MapCoordEvents:
AlteringCave_WarpCoordEvents:
    coord_event 5, 21, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT

.align 4
AlteringCave_MapBGEvents:
    bg_event 17, 19, 0, BG_EVENT_PLAYER_FACING_ANY, AlteringCave_Script1

.align 4
AlteringCave_MapEvts:
    map_events 1, AlteringCave_MapObjectEvents, 0, 0, 1, AlteringCave_MapCoordEvents, 1, AlteringCave_MapBGEvents

.align 4
AlteringCave_MapBorder:
    .byte 0xf1, 0x02, 0xf1, 0x02, 0xf1, 0x02, 0xf1, 0x02

.align 4
AlteringCave_MapData:
    .hword 0xa6f1, 0xb6f1, 0xb6f1, 0xb6f1, 0xc6f1, 0xa6f1, 0xb6f1, 0xc6f1, 0xa6f1, 0xb6f1, 0xb6f1, 0xb6f1, 0xa6f1, 0xa6f1, 0xa6f1, 0xc6f1, 0xb6f1, 0xb6f1, 0xb6f1, 0xa6f1, 0xc6f1, 0xc6f1, 0xb6f1, 0xc6f1
    .hword 0xa6f1, 0xc6eb, 0xc6f9, 0xb6f9, 0xc6f9, 0xa6ec, 0xb6f1, 0xc6f1, 0xb6f1, 0xb6f1, 0xa6f1, 0xc6f1, 0xc6f1, 0xb6f1, 0xa6f1, 0xa6f1, 0xa6f1, 0xb6f1, 0xc6f1, 0xb6f1, 0xa6f1, 0xa6f1, 0xa6f1, 0xb6f1
    .hword 0xb6eb, 0xc6fa, 0xc6ed, 0x32f5, 0x32f5, 0xb6f8, 0xb6f9, 0xb6ec, 0xc6f1, 0xb6eb, 0xb6f9, 0xc6f9, 0xa6f9, 0xa6f9, 0xa6f9, 0xb6f9, 0xc6ec, 0xa6f1, 0xc6f1, 0xb6f1, 0xc6f1, 0xc6f1, 0xc6f1, 0xa6f1
    .hword 0xc6f2, 0xb6ef, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0xb6ed, 0xa6f8, 0xb6f9, 0xa6fa, 0xc6ed, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0xb6f8, 0xb6ec, 0xc6f1, 0xa6f1, 0xb6f1, 0xc6f1, 0xa6f1, 0xa6f1
    .hword 0xb6f2, 0xc6f7, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0xc6f8, 0xa6ec, 0xa6f1, 0xa6f1, 0xc6f1, 0xa6f1, 0xc6f1
    .hword 0xa6e9, 0xc6e9, 0xa6e9, 0xa6ea, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0xb702, 0xc6e9, 0xc6e9, 0xb6e9, 0xc703, 0x32f5, 0x32f5, 0xb6f8, 0xb6ec, 0xc6f1, 0xc6f1, 0xa6f1, 0xb6f1
    .hword 0xa6f1, 0xb6f1, 0xc6f1, 0xa6e9, 0xa6ea, 0xa6ed, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0xb6ef, 0xa6f0, 0xc6f1, 0xa6f1, 0xb6eb, 0xb6fa, 0x32f5, 0x32f5, 0x32f5, 0xc6f8, 0xa6ec, 0xb6f1, 0xb6f1, 0xa6f1
    .hword 0xa6f1, 0xc6f1, 0xc6f1, 0xb6f1, 0xb6f2, 0xc6ef, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0xa6f7, 0xc6f0, 0xb6f1, 0xc6f1, 0xb6f2, 0x1289, 0x1291, 0x1291, 0x1291, 0x1281, 0xa6f0, 0xc6f1, 0xa6f1, 0xc6f1
    .hword 0xb6f1, 0xa6f1, 0xb6f1, 0xb6eb, 0xc6fa, 0xb6f7, 0x32f5, 0x32f5, 0x32f5, 0xc6ee, 0xb702, 0xa6e9, 0xc6f1, 0xa6f1, 0xa6f2, 0x128a, 0x1293, 0x1293, 0x1293, 0x1288, 0xa6f0, 0xb6f1, 0xa6f1, 0xa6f1
    .hword 0xb6f1, 0xc6f1, 0xb6eb, 0xc6fa, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0xc702, 0xb6e9, 0xc6e9, 0xc6f1, 0xb6f1, 0xa6f1, 0xa6f2, 0x128a, 0x1293, 0x1293, 0x1293, 0x1288, 0xb6f8, 0xb6ec, 0xa6f1, 0xa6f1
    .hword 0xa6f1, 0xc6f1, 0xc6f2, 0xb6ee, 0x32f5, 0x32f5, 0xb6ed, 0xc702, 0xa6e9, 0xb6f1, 0xb6f1, 0xc6f1, 0xc6f1, 0xc6f1, 0xb6e9, 0xc703, 0x1282, 0x1293, 0x1293, 0x1290, 0x1281, 0xc6f0, 0xa6f1, 0xc6f1
    .hword 0xc6f1, 0xb6eb, 0xc6fa, 0xb6ed, 0x32f5, 0x32f5, 0xa702, 0xc6e9, 0xa6f1, 0xa6f1, 0xc6f1, 0xb6f1, 0xc6f1, 0xa6f1, 0xc6f1, 0xc6f2, 0x128a, 0x1293, 0x1293, 0x1293, 0x1288, 0xa6f0, 0xa6f1, 0xc6f1
    .hword 0xc6f1, 0xc6f2, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0xb6f0, 0xa6f1, 0xa6f1, 0xc6f1, 0xa6f1, 0xc6f1, 0xb6f1, 0xa6f1, 0xb6f1, 0xa6e9, 0xa6e9, 0xc703, 0x1282, 0x1293, 0x1288, 0xc6f8, 0xa6ec, 0xc6f1
    .hword 0xa6f1, 0xa6f2, 0x32f5, 0x32f5, 0xb6ed, 0xb702, 0xa6e9, 0xb6f1, 0xc6f1, 0xa6f1, 0xa6f1, 0xc6f1, 0xb6f1, 0xc6f1, 0xa6f1, 0xc6f1, 0xc6f1, 0xa6f2, 0x128a, 0x1293, 0x1290, 0x1281, 0xa6f0, 0xb6f1
    .hword 0xa6f1, 0xc6f2, 0xb6ef, 0x32f5, 0xb6ee, 0xa6f0, 0xc6f1, 0xa6f1, 0xc6f1, 0xb6f1, 0xc6f1, 0xc6f1, 0xc6f1, 0xb6f1, 0xb6f1, 0xc6f1, 0xa6eb, 0xb6fa, 0x128a, 0x1293, 0x1293, 0x1288, 0xb6f0, 0xc6f1
    .hword 0xa6f1, 0xa6f2, 0xa6f7, 0x32f5, 0x32f5, 0xc6f0, 0xb6f1, 0xc6f1, 0xa6f1, 0xb6f1, 0xc6f1, 0xa6f1, 0xb6f1, 0xa6f1, 0xb6eb, 0xa6f9, 0xa6fa, 0x32f1, 0x32f4, 0x32f4, 0x32f4, 0x32f4, 0xc6f0, 0xa6f1
    .hword 0xc6f1, 0xb6f2, 0xa6ee, 0x32f5, 0x32f5, 0xa6f0, 0xa6f1, 0xc6f1, 0xb6f1, 0xb6f1, 0xb6f1, 0xc6f1, 0xa6f1, 0xb6eb, 0xa6fa, 0x32f1, 0x32f1, 0x32f1, 0x32f1, 0x32f1, 0x32f1, 0x32f1, 0xb6f0, 0xa6f1
    .hword 0xa6f1, 0xc6f2, 0x32f5, 0x32f5, 0x32f5, 0xc6f8, 0xb6ec, 0xc6f1, 0xb6f1, 0xb6f1, 0xb6f1, 0xb6f1, 0xb6f1, 0xc6f2, 0x32f1, 0x32f1, 0xb702, 0xa6e9, 0xa703, 0x32f1, 0x32f1, 0xa702, 0xc6e9, 0xa6f1
    .hword 0xa6f1, 0xb6f2, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0xa6f8, 0xa6ec, 0xa6f1, 0xa6f1, 0xa6f1, 0xc6f1, 0xb6f1, 0xb6f2, 0x32f1, 0x32f1, 0xc6f0, 0xb6f1, 0xc6f2, 0x32f1, 0x32f1, 0xa6f0, 0xa6f1, 0xb6f1
    .hword 0xa6f1, 0xa6f2, 0xc6ed, 0xb6ee, 0x32f5, 0x32f5, 0xb6ef, 0xa6f0, 0xc6f1, 0xb6f1, 0xc6f1, 0xb6f1, 0xa6f1, 0xa6f2, 0x32f1, 0x32f1, 0xa6f8, 0xa637, 0xb6fa, 0x32f1, 0x32f1, 0xb6f0, 0xc6f1, 0xc6f1
    .hword 0xc6f1, 0xa6f2, 0x32f5, 0x32f5, 0x32f5, 0x32f5, 0xb6f7, 0xb6f0, 0xb6f1, 0xc6f1, 0xc6f1, 0xc6f1, 0xb6f1, 0xc6e9, 0xb703, 0x32f1, 0x32f1, 0x32f1, 0x32f1, 0x32f1, 0xc702, 0xb6e9, 0xb6f1, 0xb6f1
    .hword 0xc6f1, 0xc6e9, 0xc703, 0x32f5, 0x32f5, 0x32f5, 0xc6ee, 0xc6f0, 0xc6f1, 0xa6f1, 0xc6f1, 0xa6f1, 0xb6f1, 0xa6f1, 0xa6e9, 0xa703, 0x32f1, 0x32f1, 0x32f1, 0xa702, 0xb6e9, 0xa6f1, 0xc6f1, 0xc6f1
    .hword 0xb6f1, 0xb6f1, 0xb6f1, 0xb6e9, 0xa6e5, 0xc6e6, 0xa6e7, 0xa6f1, 0xb6f1, 0xa6f1, 0xa6f1, 0xa6f1, 0xa6f1, 0xc6f1, 0xb6f1, 0xc6e9, 0xc6e9, 0xb6e9, 0xb6e9, 0xa6e9, 0xc6f1, 0xa6f1, 0xc6f1, 0xb6f1
    .hword 0xb6f1, 0xc6f1, 0xa6f1, 0xc6f1, 0xc6f1, 0xa6f1, 0xa6f1, 0xa6f1, 0xa6f1, 0xc6f1, 0xa6f1, 0xc6f1, 0xa6f1, 0xb6f1, 0xc6f1, 0xb6f1, 0xa6f1, 0xb6f1, 0xc6f1, 0xa6f1, 0xa6f1, 0xb6f1, 0xa6f1, 0xc6f1

.align 4
AlteringCave_MapConnections:
    .hword 5920
    .byte 12, 5

.align 4
AlteringCave_MapName:
    .string "ALTERING CAVE$"

# scripts/1732_AlteringCave.s

.align 4

AlteringCave_MapInitCode:
    ldr r0, =zSkipMapExitMovement
    mov r1, #2
    strb r1, [r0]
    bx lr

.align 4
.ltorg

AlteringCave_MapInitScript:
    end

AlteringCave_Fossil:
    lock
    setflag FLAG_ALTERING_CAVE_DOME
    message AlteringCave_Fossil_Text
    waitmessage
    playfanfare MUS_RG_OBTAIN_KEY_ITEM
    waitfanfare
    call SyncProgressScript
    removeobject 1
    release
    end

AlteringCave_Fossil_Text:
    .string "You found the DOME FOSSIL!\n"
    .string "Filthy Dome worshipper.$"

AlteringCave_Script1:
    lock
    braillemessage AlteringCave_Script1_Braille
	waitbuttonpress
	closebraillemessage
    releaseall
    end

AlteringCave_Script1_Braille:
    .byte 13, 37, 69, 4, 2, 0
    .braille "STER$"

