# fools2022 - autogenerated map file, please do not change!
# created from: pokeemerald/data/maps/x302C_PathOfRecursion/map.json

.thumb
.include "include/constants.inc"
.org MAP_LOAD_BASE

.include "include/macros.inc"
.include "include/symbols.inc"
.include "include/map.inc"
.include "include/event.inc"
.include "include/save.inc"

PathOfRecursion_MapHeader:
    .word PathOfRecursion_MapLayout
    .word PathOfRecursion_MapEvts
    .word NULL
    .word NULL
    .hword MUS_RG_SEVII_CAVE
    .hword 0
    .byte 0
    .byte 0
    .byte WEATHER_NONE
    .byte 0
    .hword 0
    map_header_flags allow_cycling=1, allow_escaping=1, allow_running=1, show_map_name=1
    .byte 0
    # additional data specific to fools2022 maps
    .word PathOfRecursion_MapInitCode+1
    .word PathOfRecursion_MapConnections
    .word PathOfRecursion_MapInitScript
    .word PathOfRecursion_MapName
    .word 0x1518

PathOfRecursion_MapLayout:
    .word 30
    .word 28
    .word PathOfRecursion_MapBorder
    .word PathOfRecursion_MapData
    .word gTileset_General
    .word gTileset_Mauville

.align 4
PathOfRecursion_MapObjectEvents:
    object_event 1, OBJ_EVENT_GFX_OLD_WOMAN, 0, 11, 9, 3, MOVEMENT_TYPE_FACE_DOWN, 0, 0, TRAINER_TYPE_NONE, 0, PathOfRecursion_Script1, 0
    object_event 2, OBJ_EVENT_GFX_EXPERT_M, 0, 18, 15, 3, MOVEMENT_TYPE_FACE_LEFT, 0, 0, TRAINER_TYPE_NONE, 0, PathOfRecursion_Script2, 0

.align 4
PathOfRecursion_MapCoordEvents:
PathOfRecursion_WarpCoordEvents:
    coord_event 13, 7, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 14, 7, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 15, 7, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 16, 7, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 10, 11, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 19, 11, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 10, 12, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 19, 12, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 10, 13, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 19, 13, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 10, 14, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 19, 14, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT

.align 4
PathOfRecursion_MapBGEvents:

.align 4
PathOfRecursion_MapEvts:
    map_events 2, PathOfRecursion_MapObjectEvents, 0, 0, 12, PathOfRecursion_MapCoordEvents, 0, PathOfRecursion_MapBGEvents

.align 4
PathOfRecursion_MapBorder:
    .byte 0xd4, 0x01, 0xd5, 0x01, 0xdc, 0x01, 0xdd, 0x01

.align 4
PathOfRecursion_MapData:
    .hword 0xa5d4, 0xc5d5, 0xa5d4, 0xc5d5, 0xa5d4, 0xa5d5, 0xb5d4, 0xa5d5, 0xb5d4, 0xc5d5, 0xa5d4, 0xb5d5, 0xb68a, 0x3001, 0x31d8, 0x31da, 0x3001, 0xc688, 0xc5d4, 0xa5d5, 0xa5d4, 0xb5d5, 0xb5d4, 0xa5d5, 0xa5d4, 0xa5d5, 0xc5d4, 0xb5d5, 0xb5d4, 0xb5d5
    .hword 0xa5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0xa5dc, 0xb5dd, 0xa5dc, 0xb5dd, 0xb5dc, 0xc5dd, 0xb5dc, 0xc5dd, 0xa68a, 0x3001, 0x31d8, 0x31da, 0x3001, 0xc688, 0xb5dc, 0xa5dd, 0xb5dc, 0xa5dd, 0xc5dc, 0xb5dd, 0xb5dc, 0xc5dd, 0xc5dc, 0xa5dd, 0xc5dc, 0xb5dd
    .hword 0xa5d4, 0xc5d5, 0xc5d4, 0xc5d5, 0xc5d4, 0xb5d5, 0xc5d4, 0xb5d5, 0xb5d4, 0xc5d5, 0xc5d4, 0xa5d5, 0xa68a, 0x3001, 0x31d8, 0x31da, 0x3001, 0xa688, 0xc5d4, 0xb5d5, 0xb5d4, 0xc5d5, 0xa5d4, 0xa5d5, 0xa5d4, 0xc5d5, 0xb5d4, 0xa5d5, 0xc5d4, 0xc5d5
    .hword 0xb5dc, 0xa5dd, 0xb5dc, 0xa5dd, 0xa5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0xc5dc, 0xc5dd, 0xb5dc, 0xb5dd, 0xb68a, 0x3001, 0x31d8, 0x31da, 0x3001, 0xc688, 0xc5dc, 0xa5dd, 0xa5dc, 0xa5dd, 0xc5dc, 0xa5dd, 0xc5dc, 0xa5dd, 0xa5dc, 0xb5dd, 0xc5dc, 0xc5dd
    .hword 0xc5d4, 0xa5d5, 0xa5d4, 0xc5d5, 0xb5d4, 0xc5d5, 0xc5d4, 0xa5d5, 0xa5d4, 0xa5d5, 0xa5d4, 0xb5d5, 0xc68a, 0x3001, 0x31d8, 0x31da, 0x3001, 0xb688, 0xa5d4, 0xa5d5, 0xb5d4, 0xc5d5, 0xc5d4, 0xa5d5, 0xc5d4, 0xa5d5, 0xa5d4, 0xa5d5, 0xc5d4, 0xb5d5
    .hword 0xb5dc, 0xb5dd, 0xc5dc, 0xb5dd, 0xb5dc, 0xa5dd, 0xc5dc, 0xa5dd, 0xa5dc, 0xc5dd, 0xc5dc, 0xc5dd, 0xb68a, 0x3001, 0x31d8, 0x31da, 0x3001, 0xa688, 0xc5dc, 0xb5dd, 0xa5dc, 0xc5dd, 0xc5dc, 0xa5dd, 0xb5dc, 0xc5dd, 0xa5dc, 0xa5dd, 0xb5dc, 0xa5dd
    .hword 0xa5d4, 0xa5d5, 0xa5d4, 0xa5d5, 0xc5d4, 0xb5d5, 0xc5d4, 0xc5d5, 0xb5d4, 0xb5d5, 0xa5d4, 0xa5d5, 0xc68a, 0x3001, 0x31d8, 0x31da, 0x3001, 0xa688, 0xa5d4, 0xc5d5, 0xa5d4, 0xc5d5, 0xc5d4, 0xa5d5, 0xc5d4, 0xa5d5, 0xc5d4, 0xa5d5, 0xc5d4, 0xb5d5
    .hword 0xb5dc, 0xc5dd, 0xb5dc, 0xa5dd, 0xa5dc, 0xc5dd, 0xa5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0xb5e4, 0xc5e5, 0xb6b1, 0x3001, 0x31d8, 0x31da, 0x3001, 0xc6b2, 0xa5e4, 0xa5e5, 0xb5dc, 0xa5dd, 0xa5dc, 0xb5dd, 0xb5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0xb5dc, 0xa5dd
    .hword 0xa5d4, 0xc5d5, 0xa5d4, 0xc5d5, 0xb5d4, 0xa5d5, 0xc5d4, 0xa5d5, 0xa5d4, 0xc5d5, 0xb6b9, 0xa691, 0x3001, 0x3001, 0x31d8, 0x31da, 0x3001, 0x3001, 0xb691, 0xa6ba, 0xa5d4, 0xc5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xb5d5, 0xb5d4, 0xc5d5, 0xb5d4, 0xc5d5
    .hword 0xc5e4, 0xb5e5, 0xa5e4, 0xc5e5, 0xa5e4, 0xc5e5, 0xc5e4, 0xc5e5, 0xa5e4, 0xc5e5, 0xa68a, 0x3001, 0x3001, 0x3001, 0x31d8, 0x31da, 0x3001, 0x3001, 0x3001, 0xb688, 0xb5e4, 0xc5e5, 0xc5e4, 0xa5e5, 0xb5e4, 0xa5e5, 0xc5e4, 0xb5e5, 0xa5e4, 0xb5e5
    .hword 0xb691, 0xa691, 0xa691, 0xa691, 0xc691, 0xa691, 0xc691, 0xa691, 0xb691, 0xb691, 0xc692, 0x3001, 0x3001, 0x3004, 0x31d8, 0x31da, 0x3004, 0x3001, 0x3001, 0xa690, 0xc691, 0xc691, 0xa691, 0xa691, 0xc691, 0xb691, 0xc691, 0xa691, 0xa691, 0xc691
    .hword 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3004, 0x3001, 0x31d8, 0x31da, 0x3001, 0x3004, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001
    .hword 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d9, 0x31d9, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1
    .hword 0x31e1, 0x31e1, 0x31e1, 0x31e1, 0x31e1, 0x31e1, 0x31e1, 0x31e1, 0x31e1, 0x31e1, 0x31e1, 0x31e1, 0x31e1, 0x31e1, 0x31d9, 0x31d9, 0x31e1, 0x31e1, 0x31e1, 0x31e1, 0x31e1, 0x31e1, 0x31e1, 0x31e1, 0x31e1, 0x31e1, 0x31e1, 0x31e1, 0x31e1, 0x31e1
    .hword 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3004, 0x3001, 0x31d8, 0x31da, 0x3001, 0x3004, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001
    .hword 0xc691, 0xa691, 0xa691, 0xa691, 0xc691, 0xc691, 0xc691, 0xb691, 0xa691, 0xb691, 0xc682, 0x3001, 0x3001, 0x3004, 0x31e0, 0x31e2, 0x3004, 0x3001, 0x3001, 0xa680, 0xb691, 0xc691, 0xc691, 0xc691, 0xa691, 0xa691, 0xc691, 0xa691, 0xb691, 0xc691
    .hword 0xc40d, 0xa40d, 0xb40d, 0xc40d, 0xa40d, 0xa40d, 0xb40d, 0xa40d, 0xc40d, 0xc40d, 0xc6b1, 0xb691, 0xa691, 0xa691, 0xb691, 0xb691, 0xc691, 0xa691, 0xa691, 0xc6b2, 0xb40d, 0xc40d, 0xa40d, 0xc40d, 0xc40d, 0xc40d, 0xc40d, 0xa40d, 0xb40d, 0xc40d
    .hword 0xb5c6, 0xc5c7, 0xb5c6, 0xb5c7, 0xa5c6, 0xb5c7, 0xc5c6, 0xc5c7, 0xa5c6, 0xb5c7, 0xb5c6, 0xb5c7, 0xc5c6, 0xa5c7, 0xa5c6, 0xa5c7, 0xc5c6, 0xa5c7, 0xc5c6, 0xa5c7, 0xc5c6, 0xb5c7, 0xc5c6, 0xc5c7, 0xa5c6, 0xc5c7, 0xa5c6, 0xc5c7, 0xa5c6, 0xb5c7
    .hword 0xb5d4, 0xa5d5, 0xc5d4, 0xc5d5, 0xb5d4, 0xc5d5, 0xc5d4, 0xc5d5, 0xa5d4, 0xc5d5, 0xc5d4, 0xb5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xc5d5, 0xb5d4, 0xa5d5, 0xa5d4, 0xa5d5, 0xa5d4, 0xa5d5, 0xb5d4, 0xc5d5, 0xa5d4, 0xc5d5, 0xa5d4, 0xc5d5, 0xa5d4, 0xb5d5
    .hword 0xb5dc, 0xb5dd, 0xa5dc, 0xa5dd, 0xb5dc, 0xc5dd, 0xb5dc, 0xc5dd, 0xb5dc, 0xc5dd, 0xb5dc, 0xb5dd, 0xb5dc, 0xa5dd, 0xa5dc, 0xb5dd, 0xb5dc, 0xa5dd, 0xc5dc, 0xb5dd, 0xc5dc, 0xa5dd, 0xc5dc, 0xb5dd, 0xa5dc, 0xb5dd, 0xb5dc, 0xb5dd, 0xc5dc, 0xa5dd
    .hword 0xb5d4, 0xb5d5, 0xb5d4, 0xc5d5, 0xa5d4, 0xc5d5, 0xb5d4, 0xc5d5, 0xb5d4, 0xc5d5, 0xc5d4, 0xb5d5, 0xa5d4, 0xb5d5, 0xb5d4, 0xb5d5, 0xa5d4, 0xa5d5, 0xc5d4, 0xb5d5, 0xa5d4, 0xa5d5, 0xa5d4, 0xc5d5, 0xc5d4, 0xa5d5, 0xa5d4, 0xa5d5, 0xb5d4, 0xa5d5
    .hword 0xa5dc, 0xa5dd, 0xa5dc, 0xc5dd, 0xb5dc, 0xb5dd, 0xc5dc, 0xc5dd, 0xb5dc, 0xc5dd, 0xb5dc, 0xc5dd, 0xb5dc, 0xa5dd, 0xb5dc, 0xc5dd, 0xa5dc, 0xa5dd, 0xb5dc, 0xb5dd, 0xb5dc, 0xc5dd, 0xb5dc, 0xa5dd, 0xa5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0xc5dc, 0xa5dd
    .hword 0xb5d4, 0xc5d5, 0xb5d4, 0xa5d5, 0xa5d4, 0xa5d5, 0xc5d4, 0xa5d5, 0xa5d4, 0xc5d5, 0xc5d4, 0xb5d5, 0xb5d4, 0xb5d5, 0xb5d4, 0xb5d5, 0xa5d4, 0xa5d5, 0xb5d4, 0xb5d5, 0xb5d4, 0xc5d5, 0xa5d4, 0xa5d5, 0xc5d4, 0xb5d5, 0xa5d4, 0xa5d5, 0xa5d4, 0xa5d5
    .hword 0xb5dc, 0xb5dd, 0xa5dc, 0xc5dd, 0xb5dc, 0xb5dd, 0xc5dc, 0xb5dd, 0xb5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0xc5dc, 0xa5dd, 0xa5dc, 0xc5dd, 0xc5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0xb5dc, 0xb5dd, 0xc5dc, 0xc5dd, 0xb5dc, 0xc5dd, 0xb5dc, 0xb5dd, 0xc5dc, 0xa5dd
    .hword 0xb5d4, 0xa5d5, 0xa5d4, 0xb5d5, 0xa5d4, 0xc5d5, 0xa5d4, 0xc5d5, 0xc5d4, 0xb5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xb5d5, 0xc5d4, 0xb5d5, 0xa5d4, 0xc5d5, 0xb5d4, 0xa5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xb5d5, 0xa5d4, 0xc5d5, 0xb5d4, 0xc5d5, 0xa5d4, 0xc5d5
    .hword 0xb5dc, 0xc5dd, 0xc5dc, 0xc5dd, 0xc5dc, 0xa5dd, 0xb5dc, 0xb5dd, 0xc5dc, 0xa5dd, 0xa5dc, 0xc5dd, 0xa5dc, 0xb5dd, 0xb5dc, 0xc5dd, 0xb5dc, 0xc5dd, 0xa5dc, 0xb5dd, 0xa5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0xa5dc, 0xa5dd, 0xb5dc, 0xa5dd
    .hword 0xb5d4, 0xc5d5, 0xa5d4, 0xc5d5, 0xc5d4, 0xc5d5, 0xb5d4, 0xc5d5, 0xb5d4, 0xb5d5, 0xb5d4, 0xc5d5, 0xb5d4, 0xc5d5, 0xb5d4, 0xc5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xb5d5, 0xb5d4, 0xb5d5, 0xb5d4, 0xb5d5, 0xb5d4, 0xc5d5, 0xc5d4, 0xa5d5, 0xa5d4, 0xa5d5
    .hword 0xc5dc, 0xc5dd, 0xb5dc, 0xa5dd, 0xb5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0xc5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0xa5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0xb5dc, 0xb5dd, 0xb5dc, 0xb5dd, 0xa5dc, 0xc5dd, 0xc5dc, 0xc5dd, 0xb5dc, 0xc5dd, 0xc5dc, 0xc5dd, 0xb5dc, 0xb5dd

.align 4
PathOfRecursion_MapConnections:
    .hword 0x3120
    .byte 8, 144
    .hword 0x3120
    .byte 8, 144
    .hword 0x3120
    .byte 8, 144
    .hword 0x3120
    .byte 8, 144
    .hword 0x2f38
    .byte 154, 12
    .hword 12332
    .byte 138, 139
    .hword 0x2f38
    .byte 154, 12
    .hword 12332
    .byte 138, 140
    .hword 0x2f38
    .byte 154, 12
    .hword 12332
    .byte 138, 141
    .hword 0x2f38
    .byte 154, 12
    .hword 12332
    .byte 138, 142

.align 4
PathOfRecursion_MapName:
    .string "PATH OF RECURSION$"

# scripts/302C_PathOfRecursion.s

.align 4

PathOfRecursion_MapInitCode:
    bx lr

PathOfRecursion_SetTargetMap:
    ldr r0, =zWarpTargetData
    ldr r1, =0x0707323f
    str r1, [r0]
    ldr r0, =zWarpTargetDirection
    mov r1, #0
    strb r1, [r0]
    bx lr

PathOfRecursion_MapInitScript:
    end

PathOfRecursion_Script1:
    lock
    faceplayer
    msgbox PathOfRecursion_Script1_Text1, MSGBOX_YESNO
    compare VAR_RESULT, NO
    goto_if_eq PathOfRecursion_Script1_Break
    setvar VAR_TEMP_1, 0
PathOfRecursion_Script1_Loop:
    msgbox PathOfRecursion_Script1_Text2, MSGBOX_YESNO
    compare VAR_RESULT, NO
    goto_if_eq PathOfRecursion_Script1_Break
    addvar VAR_TEMP_1, 1
    compare_var_to_value VAR_TEMP_1, 10
    goto_if_eq PathOfRecursion_Script1_Crash
    goto PathOfRecursion_Script1_Loop
PathOfRecursion_Script1_Break:
    msgbox PathOfRecursion_Script1_Text3
    release
    end
PathOfRecursion_Script1_Crash:
    closemessage
    fadescreen 1
    delay 60
    msgbox PathOfRecursion_Script1_Text4
    closemessage
    delay 60
    callnative PathOfRecursion_SetTargetMap
    goto WARP_SCRIPT

PathOfRecursion_Script1_Text1:
    .string "Hi there? Do you want me to explain\n"
    .string "recursion to you?$"

PathOfRecursion_Script1_Text2:
    .string "Great! But before I explain recursion,\n"
    .string "I should explain recursion first.\l"
    .string "Do you want me to explain recursion?$"

PathOfRecursion_Script1_Text3:
    .string "Dang.\n"
    .string "I just wanted to help...$"

PathOfRecursion_Script1_Text4:
    .string "Once you answer the question, the old\n"
    .string "lady turns into a glitchy mess.\p"
    .string "The glitchy mess engulfs you.\n"
    .string "You lose consciousness.\p"
    .string "After some time, you wake up in\n"
    .string "a place you've never seen before...$"

PathOfRecursion_Script2:
    lock
    faceplayer
    msgbox PathOfRecursion_Script2_Text
    release
    end

PathOfRecursion_Script2_Text:
    .string "Perseverance is key!\p"
    .string "I strongly believe that if I try to\n"
    .string "understand recursion hard enough,\l"
    .string "then I will get rewarded eventually!$"

