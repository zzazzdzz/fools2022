# fools2022 - autogenerated map file, please do not change!
# created from: pokeemerald/data/maps/x3A3E_Grasslands/map.json

.thumb
.include "include/constants.inc"
.org MAP_LOAD_BASE

.include "include/macros.inc"
.include "include/symbols.inc"
.include "include/map.inc"
.include "include/event.inc"
.include "include/save.inc"

Grasslands_MapHeader:
    .word Grasslands_MapLayout
    .word Grasslands_MapEvts
    .word NULL
    .word NULL
    .hword MUS_RG_ROUTE1
    .hword 0
    .byte 0
    .byte 0
    .byte WEATHER_NONE
    .byte 0
    .hword 0
    map_header_flags allow_cycling=1, allow_escaping=1, allow_running=1, show_map_name=1
    .byte 0
    # additional data specific to fools2022 maps
    .word Grasslands_MapInitCode+1
    .word Grasslands_MapConnections
    .word Grasslands_MapInitScript
    .word Grasslands_MapName
    .word 0x2819

Grasslands_MapLayout:
    .word 40
    .word 16
    .word Grasslands_MapBorder
    .word Grasslands_MapData
    .word gTileset_General
    .word gTileset_Mauville

.align 4
Grasslands_MapObjectEvents:
    object_event 1, OBJ_EVENT_GFX_CUTTABLE_TREE, 0, 14, 8, 3, MOVEMENT_TYPE_NONE, 0, 0, TRAINER_TYPE_NONE, 0, EventScript_CutTree, 0x12
    object_event 2, OBJ_EVENT_GFX_CUTTABLE_TREE, 0, 16, 6, 3, MOVEMENT_TYPE_NONE, 0, 0, TRAINER_TYPE_NONE, 0, EventScript_CutTree, 0x13
    object_event 3, OBJ_EVENT_GFX_CUTTABLE_TREE, 0, 21, 9, 3, MOVEMENT_TYPE_NONE, 0, 0, TRAINER_TYPE_NONE, 0, Grasslands_CuttableDelirian, 0x15
    object_event 4, OBJ_EVENT_GFX_CUTTABLE_TREE, 0, 23, 7, 3, MOVEMENT_TYPE_NONE, 0, 0, TRAINER_TYPE_NONE, 0, EventScript_CutTree, 0x14
    object_event 5, OBJ_EVENT_GFX_BLACK_BELT, 0, 19, 5, 3, MOVEMENT_TYPE_LOOK_AROUND, 0, 0, TRAINER_TYPE_NONE, 0, Grasslands_Script1, 0
    object_event 6, OBJ_EVENT_GFX_BUG_CATCHER, 0, 18, 10, 3, MOVEMENT_TYPE_LOOK_AROUND, 0, 0, TRAINER_TYPE_NONE, 0, Grasslands_Script2, 0

.align 4
Grasslands_MapCoordEvents:
Grasslands_WarpCoordEvents:
    coord_event 32, 6, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 32, 7, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 32, 8, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 32, 9, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 7, 6, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 7, 7, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 7, 8, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 7, 9, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT

.align 4
Grasslands_MapBGEvents:

.align 4
Grasslands_MapEvts:
    map_events 6, Grasslands_MapObjectEvents, 0, 0, 8, Grasslands_MapCoordEvents, 0, Grasslands_MapBGEvents

.align 4
Grasslands_MapBorder:
    .byte 0xd4, 0x01, 0xd5, 0x01, 0xdc, 0x01, 0xdd, 0x01

.align 4
Grasslands_MapData:
    .hword 0xa5d4, 0xc5d5, 0xb5d4, 0xa5d5, 0xa5d4, 0xc5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xb5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xc5d5, 0xb5d4, 0xb5d5, 0xa5d4, 0xc5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xc5d5, 0xc5d4, 0xb5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xc5d5, 0xa5d4, 0xb5d5, 0xa5d4, 0xa5d5, 0xb5d4, 0xb5d5, 0xc5d4, 0xb5d5, 0xc5d4, 0xa5d5, 0xa5d4, 0xa5d5
    .hword 0xa5dc, 0xa5dd, 0xc5dc, 0xa5dd, 0xb5dc, 0xc5dd, 0xc5dc, 0xb5dd, 0xb5e4, 0xa5e5, 0xc5e4, 0xb5e5, 0xa5e4, 0xc5e5, 0xa5e4, 0xa5e5, 0xb5e4, 0xb5e5, 0xb5e4, 0xc5e5, 0xa5e4, 0xc5e5, 0xb5e4, 0xb5e5, 0xc5e4, 0xa5e5, 0xa5e4, 0xb5e5, 0xc5e4, 0xb5e5, 0xb5dc, 0xb5dd, 0xa5dc, 0xa5dd, 0xa5dc, 0xc5dd, 0xa5dc, 0xa5dd, 0xc5dc, 0xb5dd
    .hword 0xa5d4, 0xc5d5, 0xa5d4, 0xa5d5, 0xb5d4, 0xb5d5, 0xa5d4, 0xc5d5, 0xa691, 0xc691, 0xb691, 0xb691, 0xc691, 0xb691, 0xb691, 0xa691, 0xa691, 0xa691, 0xa691, 0xb691, 0xa691, 0xc691, 0xc691, 0xc691, 0xb691, 0xb691, 0xc691, 0xb691, 0xb691, 0xa682, 0xa5d4, 0xc5d5, 0xb5d4, 0xb5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xa5d5, 0xa5d4, 0xb5d5
    .hword 0xc5dc, 0xb5dd, 0xb5dc, 0xa5dd, 0xb5dc, 0xa5dd, 0xb5dc, 0xa5dd, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0xc68a, 0xc5e4, 0xc5e5, 0xc5dc, 0xc5dd, 0xb5dc, 0xa5dd, 0xc5dc, 0xa5dd, 0xc5dc, 0xc5dd
    .hword 0xa5d4, 0xa5d5, 0xa5d4, 0xa5d5, 0xb5d4, 0xb5d5, 0xa5d4, 0xa5d5, 0x3001, 0x3001, 0x3001, 0x3004, 0x3001, 0x3001, 0x300d, 0x300d, 0x300d, 0x300d, 0x3100, 0x3102, 0x300d, 0x300d, 0x300d, 0x300d, 0x3001, 0x3001, 0x3004, 0x3001, 0x3001, 0xc6b1, 0xb691, 0xa691, 0xc5d4, 0xb5d5, 0xa5d4, 0xb5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xc5d5
    .hword 0xc5e4, 0xb5e5, 0xb5e4, 0xb5e5, 0xa5e4, 0xb5e5, 0xa5e4, 0xb5e5, 0x3001, 0x3001, 0x3004, 0x3001, 0x3001, 0x300d, 0x300d, 0x300d, 0x3204, 0x300d, 0x3108, 0x310a, 0x300d, 0x300d, 0x300d, 0x300d, 0x300d, 0x3001, 0x3001, 0x3004, 0x3001, 0x3001, 0x3001, 0x3001, 0xb5e4, 0xb5e5, 0xa5e4, 0xb5e5, 0xb5e4, 0xa5e5, 0xa5e4, 0xa5e5
    .hword 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x300d, 0x300d, 0x300d, 0x3204, 0x3001, 0x3204, 0x3108, 0x310a, 0x300d, 0x300d, 0x300d, 0x3204, 0x300d, 0x300d, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001
    .hword 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x311a, 0x3001, 0x300d, 0x300d, 0x3204, 0x300d, 0x3204, 0x300d, 0x3108, 0x310a, 0x300d, 0x300d, 0x3204, 0x3001, 0x3204, 0x300d, 0x3001, 0x3118, 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x3119
    .hword 0x3129, 0x3129, 0x3129, 0x3129, 0x3129, 0x3129, 0x3129, 0x3129, 0x3129, 0x3129, 0x312a, 0x3001, 0x300d, 0x3204, 0x3001, 0x3204, 0x300d, 0x300d, 0x3108, 0x310a, 0x300d, 0x3204, 0x300d, 0x3204, 0x300d, 0x300d, 0x3001, 0x3128, 0x3129, 0x3129, 0x3129, 0x3129, 0x3129, 0x3129, 0x3129, 0x3129, 0x3129, 0x3129, 0x3129, 0x3129
    .hword 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x3001, 0x3001, 0x3001, 0x3001, 0x300d, 0x300d, 0x3204, 0x300d, 0x300d, 0x300d, 0x3108, 0x310a, 0x3204, 0x3001, 0x3204, 0x300d, 0x300d, 0x300d, 0x3001, 0x3001, 0x3001, 0x3001, 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x31ce, 0x31cf
    .hword 0xb5d4, 0xc5d5, 0xc5d4, 0xb5d5, 0xa5d4, 0xa5d5, 0xa5d4, 0xb5d5, 0x3001, 0x3001, 0x3004, 0x3001, 0x3001, 0x300d, 0x300d, 0x300d, 0x300d, 0x300d, 0x3108, 0x310a, 0x300d, 0x3204, 0x300d, 0x300d, 0x300d, 0x3001, 0x3001, 0x3004, 0x3001, 0x3001, 0xb5d4, 0xa5d5, 0xa5d4, 0xc5d5, 0xb5d4, 0xb5d5, 0xc5d4, 0xa5d5, 0xa5d4, 0xc5d5
    .hword 0xa5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0xb5dc, 0xb5dd, 0xa5dc, 0xb5dd, 0x31ce, 0x31cf, 0x3001, 0x3004, 0x3001, 0x3001, 0x300d, 0x300d, 0x300d, 0x300d, 0x3110, 0x3112, 0x300d, 0x300d, 0x300d, 0x300d, 0x3001, 0x3001, 0x3004, 0x3001, 0x31ce, 0x31cf, 0xb5dc, 0xa5dd, 0xa5dc, 0xa5dd, 0xa5dc, 0xa5dd, 0xb5dc, 0xb5dd, 0xb5dc, 0xc5dd
    .hword 0xb5d4, 0xc5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xa5d5, 0xa5d4, 0xb5d5, 0xc5d4, 0xc5d5, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0xa5d4, 0xb5d5, 0xb5d4, 0xa5d5, 0xc5d4, 0xc5d5, 0xb5d4, 0xa5d5, 0xa5d4, 0xc5d5, 0xb5d4, 0xa5d5
    .hword 0xb5dc, 0xb5dd, 0xa5dc, 0xa5dd, 0xc5dc, 0xa5dd, 0xb5dc, 0xa5dd, 0xc5dc, 0xa5dd, 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0xb5dc, 0xb5dd, 0xa5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0xa5dc, 0xb5dd, 0xa5dc, 0xa5dd, 0xb5dc, 0xb5dd
    .hword 0xc5d4, 0xb5d5, 0xb5d4, 0xa5d5, 0xb5d4, 0xc5d5, 0xc5d4, 0xb5d5, 0xc5d4, 0xb5d5, 0xa5d4, 0xb5d5, 0xc5d4, 0xc5d5, 0xb5d4, 0xb5d5, 0xc5d4, 0xb5d5, 0xb5d4, 0xa5d5, 0xc5d4, 0xb5d5, 0xc5d4, 0xa5d5, 0xa5d4, 0xa5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xc5d5, 0xb5d4, 0xc5d5, 0xc5d4, 0xa5d5, 0xa5d4, 0xb5d5, 0xc5d4, 0xb5d5, 0xb5d4, 0xc5d5
    .hword 0xb5dc, 0xa5dd, 0xc5dc, 0xb5dd, 0xc5dc, 0xb5dd, 0xb5dc, 0xc5dd, 0xc5dc, 0xb5dd, 0xb5dc, 0xa5dd, 0xb5dc, 0xb5dd, 0xb5dc, 0xa5dd, 0xa5dc, 0xa5dd, 0xa5dc, 0xb5dd, 0xc5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0xb5dc, 0xa5dd, 0xb5dc, 0xa5dd, 0xb5dc, 0xa5dd, 0xa5dc, 0xc5dd, 0xb5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0xc5dc, 0xa5dd, 0xc5dc, 0xa5dd

.align 4
Grasslands_MapConnections:
    .hword 0x5211
    .byte 135, 141
    .hword 0x5211
    .byte 135, 141
    .hword 0x5211
    .byte 135, 141
    .hword 0x5211
    .byte 135, 141
    .hword 0x3920
    .byte 146, 18
    .hword 0x3920
    .byte 146, 18
    .hword 0x3920
    .byte 146, 18
    .hword 0x3920
    .byte 146, 18

.align 4
Grasslands_MapName:
    .string "GRASSLANDS$"

# scripts/3A3E_Grasslands.s

.align 4

Grasslands_MapInitCode:
    bx lr

Grasslands_MapInitScript:
    end

Grasslands_CuttableDelirian:
	lockall
	goto_if_unset 0x867, EventScript_CheckTreeCantCut
	msgbox Text_WantToCut, MSGBOX_YESNO
	compare VAR_RESULT, NO
    goto_if_eq EventScript_CancelCut
    closemessage
	setvar VAR_RESULT, 0
	setfieldeffectargument 0, VAR_RESULT
    dofieldeffect 2
    waitstate
    playse SE_M_CUT
    waitse
    delay 16
    msgbox Grasslands_CuttableDelirian_Text
    closemessage
    delay 16
    applymovement VAR_LAST_TALKED, Grasslands_CuttableDelirian_Movement
	waitmovement 0
	removeobject VAR_LAST_TALKED
	releaseall
	end

Grasslands_CuttableDelirian_Movement:
    jump_2_left
    jump_2_left
    jump_2_left
    jump_2_left
    jump_2_left
    step_end

Grasslands_CuttableDelirian_Text:
    .string "{JPN}owowow\n"
    .string "HUrts !!\p"
    .string "i am not a tree ..\n"
    .string "you want me out?\p"
    .string "okayooo\n"
    .string "i will go now ...$"

Grasslands_Script1:
    lock
    faceplayer
    checkflag FLAG_GRASSLANDS_TREES
    goto_if TRUE, Grasslands_Script1_Done
    checkflag 0x12
    goto_if FALSE, Grasslands_Script1_Nope
    checkflag 0x13
    goto_if FALSE, Grasslands_Script1_Nope
    checkflag 0x14
    goto_if FALSE, Grasslands_Script1_Nope
    checkflag 0x15
    goto_if FALSE, Grasslands_Script1_Nope
    setflag FLAG_GRASSLANDS_TREES
    message Grasslands_Script1_Text1
    waitmessage
    playfanfare MUS_RG_OBTAIN_KEY_ITEM
    waitfanfare
    call SyncProgressScript
    release
    end
Grasslands_Script1_Nope:
    msgbox Grasslands_Script1_Text
    release
    end
Grasslands_Script1_Done:
    msgbox Grasslands_Script1_Text1
    release
    end

Grasslands_Script1_Text1:
    .string "All of the trees are gone now!\n"
    .string "Thank you so much!$"

Grasslands_Script1_Text:
    .string "Hey, can you help me out?\n"
    .string "I'm trying to get rid of all the trees.\p"
    .string "This place is called Grasslands.\n"
    .string "There's no place for random trees.\l"
    .string "Only grass allowed!\p"
    .string "Once you're done, just talk to me.\n"
    .string "I'll give you a special achievement.$"

Grasslands_Script2:
    lock
    faceplayer
    msgbox Grasslands_Script2_Text
    release
    end

Grasslands_Script2_Text:
    .string "I'm not sure why this other guy\n"
    .string "hates trees so much.\p"
    .string "Last time I checked, everyone was\n"
    .string "anti-grass...$"


EventScript_CutTree:
    lock
    faceplayer
    msgbox EventScript_CutTree_Text
    release
    end

EventScript_CutTree_Text:
    .string "redacted$"
