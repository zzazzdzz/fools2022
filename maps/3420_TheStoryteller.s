# fools2022 - autogenerated map file, please do not change!
# created from: pokeemerald/data/maps/x3420_TheStoryteller/map.json

.thumb
.include "include/constants.inc"
.org MAP_LOAD_BASE

.include "include/macros.inc"
.include "include/symbols.inc"
.include "include/map.inc"
.include "include/event.inc"
.include "include/save.inc"

TheStoryteller_MapHeader:
    .word TheStoryteller_MapLayout
    .word TheStoryteller_MapEvts
    .word NULL
    .word NULL
    .hword MUS_ROUTE101
    .hword 0
    .byte 0
    .byte 0
    .byte WEATHER_NONE
    .byte 0
    .hword 0
    map_header_flags allow_cycling=1, allow_escaping=1, allow_running=1, show_map_name=1
    .byte 0
    # additional data specific to fools2022 maps
    .word TheStoryteller_MapInitCode+1
    .word TheStoryteller_MapConnections
    .word TheStoryteller_MapInitScript
    .word TheStoryteller_MapName
    .word 0x2819

TheStoryteller_MapLayout:
    .word 24
    .word 24
    .word TheStoryteller_MapBorder
    .word TheStoryteller_MapData
    .word gTileset_General
    .word gTileset_Mauville

.align 4
TheStoryteller_MapObjectEvents:
    object_event 1, OBJ_EVENT_GFX_MAN_5, 0, 13, 8, 3, MOVEMENT_TYPE_LOOK_AROUND, 0, 0, TRAINER_TYPE_NONE, 0, TheStoryteller_Script1, 0
    object_event 2, OBJ_EVENT_GFX_SCIENTIST_1, 0, 4, 9, 3, MOVEMENT_TYPE_FACE_LEFT, 0, 0, TRAINER_TYPE_NONE, 0, TheStoryteller_Script2, 0

.align 4
TheStoryteller_MapCoordEvents:
TheStoryteller_WarpCoordEvents:
    coord_event 8, 16, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 9, 16, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 10, 16, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 16, 15, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 16, 14, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 16, 13, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 16, 12, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 8, 5, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 9, 5, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 10, 5, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 11, 5, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT

.align 4
TheStoryteller_MapBGEvents:

.align 4
TheStoryteller_MapEvts:
    map_events 2, TheStoryteller_MapObjectEvents, 0, 0, 11, TheStoryteller_MapCoordEvents, 0, TheStoryteller_MapBGEvents

.align 4
TheStoryteller_MapBorder:
    .byte 0xd4, 0x01, 0xd5, 0x01, 0xdc, 0x01, 0xdd, 0x01

.align 4
TheStoryteller_MapData:
    .hword 0xc5d4, 0xc5d5, 0xa5d4, 0xb5d5, 0xa5d4, 0xa5d5, 0xa5d4, 0xc5d5, 0x3001, 0x3108, 0x310a, 0x3001, 0xb5d4, 0xb5d5, 0xa5d4, 0xa5d5, 0xb5d4, 0xc5d5, 0xc5d4, 0xa5d5, 0xa5d4, 0xb5d5, 0xa5d4, 0xb5d5
    .hword 0xc5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0xb5dc, 0xc5dd, 0xb5dc, 0xc5dd, 0x3001, 0x3108, 0x310a, 0x3001, 0xc5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0xa5dc, 0xa5dd, 0xc5dc, 0xa5dd, 0xb5dc, 0xa5dd, 0xa5dc, 0xc5dd
    .hword 0xa5d4, 0xa5d5, 0xb5d4, 0xa5d5, 0xb5d4, 0xc5d5, 0xa5d4, 0xc5d5, 0x3001, 0x3108, 0x310a, 0x3001, 0xc5d4, 0xb5d5, 0xc5d4, 0xa5d5, 0xc5d4, 0xb5d5, 0xa5d4, 0xb5d5, 0xa5d4, 0xc5d5, 0xc5d4, 0xb5d5
    .hword 0xa5dc, 0xa5dd, 0xb5dc, 0xa5dd, 0xa5dc, 0xc5dd, 0xa5dc, 0xa5dd, 0x3001, 0x3108, 0x310a, 0x3001, 0xa5dc, 0xa5dd, 0xc5dc, 0xb5dd, 0xa5dc, 0xc5dd, 0xc5dc, 0xc5dd, 0xc5dc, 0xa5dd, 0xc5dc, 0xc5dd
    .hword 0xa5d4, 0xa5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xa5d5, 0xb5d4, 0xb5d5, 0x3004, 0x3108, 0x310a, 0x3001, 0xc5d4, 0xb5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xb5d5, 0xb5d4, 0xa5d5, 0xb5d4, 0xb5d5, 0xb5d4, 0xa5d5
    .hword 0xc5dc, 0xc5dd, 0xc5dc, 0xb5dd, 0xa5dc, 0xc5dd, 0xa5e4, 0xc5e5, 0x3001, 0x3108, 0x310a, 0x3001, 0xb5e4, 0xb5e5, 0xb5e4, 0xa5e5, 0xa5dc, 0xa5dd, 0xb5dc, 0xa5dd, 0xa5dc, 0xc5dd, 0xb5dc, 0xa5dd
    .hword 0xa5d4, 0xc5d5, 0xa5d4, 0xc5d5, 0xa5d4, 0xb5d5, 0x3001, 0x3001, 0x3001, 0x3108, 0x310a, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0xc5d4, 0xb5d5, 0xb5d4, 0xa5d5, 0xb5d4, 0xc5d5, 0xc5d4, 0xc5d5
    .hword 0xb5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0xa5e4, 0xc5e5, 0x3001, 0x3001, 0x3001, 0x3108, 0x310a, 0x3001, 0x3001, 0x3001, 0x3001, 0x3004, 0xc5dc, 0xb5dd, 0xb5dc, 0xb5dd, 0xc5dc, 0xb5dd, 0xb5dc, 0xb5dd
    .hword 0xa5d4, 0xb5d5, 0xc5d4, 0xb5d5, 0x3001, 0x3001, 0x3004, 0x3001, 0x3001, 0x3108, 0x310a, 0x3001, 0x3004, 0x3001, 0x3001, 0x3001, 0xc5d4, 0xa5d5, 0xc5d4, 0xb5d5, 0xa5d4, 0xa5d5, 0xa5d4, 0xc5d5
    .hword 0xa5dc, 0xc5dd, 0xb5dc, 0xa5dd, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3108, 0x310a, 0x3001, 0x3001, 0x3004, 0x3001, 0x3001, 0xc5dc, 0xa5dd, 0xc5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0xc5dc, 0xc5dd
    .hword 0xc5d4, 0xb5d5, 0xb5d4, 0xc5d5, 0x3004, 0x3001, 0x3001, 0x3001, 0x3100, 0x3109, 0x3109, 0x3101, 0x3101, 0x3101, 0x3102, 0x3001, 0xa5d4, 0xb5d5, 0xb5d4, 0xa5d5, 0xb5d4, 0xc5d5, 0xb5d4, 0xa5d5
    .hword 0xa5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x3108, 0x3109, 0x3111, 0x3111, 0x3111, 0x3109, 0x310a, 0x3001, 0xa5e4, 0xb5e5, 0xc5e4, 0xb5e5, 0xb5e4, 0xb5e5, 0xc5e4, 0xa5e5
    .hword 0xa5d4, 0xc5d5, 0xa5d4, 0xc5d5, 0xc5d4, 0xb5d5, 0xc5d4, 0xa5d5, 0x3108, 0x310a, 0x3001, 0x3001, 0x3004, 0x3108, 0x310a, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001
    .hword 0xa5dc, 0xa5dd, 0xa5dc, 0xa5dd, 0xa5dc, 0xa5dd, 0xb5dc, 0xa5dd, 0x3108, 0x310a, 0x31ce, 0x31cf, 0x3001, 0x3108, 0x3109, 0x3101, 0x3101, 0x3101, 0x3101, 0x3101, 0x3101, 0x3101, 0x3101, 0x3101
    .hword 0xc5d4, 0xa5d5, 0xb5d4, 0xb5d5, 0xa5d4, 0xb5d5, 0xc5d4, 0xb5d5, 0x3108, 0x310a, 0xc5d4, 0xa5d5, 0x3001, 0x3110, 0x3111, 0x3111, 0x3111, 0x3111, 0x3111, 0x3111, 0x3111, 0x3111, 0x3111, 0x3111
    .hword 0xc5dc, 0xc5dd, 0xc5dc, 0xb5dd, 0xa5dc, 0xc5dd, 0xc5dc, 0xb5dd, 0x3108, 0x310a, 0xb5dc, 0xa5dd, 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x31ce, 0x31cf
    .hword 0xa5d4, 0xc5d5, 0xc5d4, 0xc5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xc5d5, 0x3108, 0x310a, 0xc5d4, 0xc5d5, 0xa5d4, 0xa5d5, 0xa5d4, 0xc5d5, 0xb5d4, 0xa5d5, 0xa5d4, 0xa5d5, 0xb5d4, 0xa5d5, 0xb5d4, 0xb5d5
    .hword 0xb5dc, 0xa5dd, 0xa5dc, 0xb5dd, 0xb5dc, 0xa5dd, 0xa5dc, 0xb5dd, 0x3108, 0x310a, 0xc5dc, 0xb5dd, 0xc5dc, 0xc5dd, 0xa5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0xa5dc, 0xb5dd, 0xa5dc, 0xc5dd, 0xb5dc, 0xc5dd
    .hword 0xb5d4, 0xb5d5, 0xc5d4, 0xc5d5, 0xc5d4, 0xa5d5, 0xa5d4, 0xa5d5, 0x3108, 0x310a, 0xb5d4, 0xc5d5, 0xb5d4, 0xb5d5, 0xa5d4, 0xc5d5, 0xa5d4, 0xb5d5, 0xa5d4, 0xc5d5, 0xa5d4, 0xb5d5, 0xb5d4, 0xc5d5
    .hword 0xa5dc, 0xc5dd, 0xb5dc, 0xc5dd, 0xb5dc, 0xb5dd, 0xa5dc, 0xa5dd, 0x3108, 0x310a, 0xc5dc, 0xb5dd, 0xa5dc, 0xb5dd, 0xc5dc, 0xc5dd, 0xc5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0xc5dc, 0xc5dd, 0xb5dc, 0xc5dd
    .hword 0xa5d4, 0xb5d5, 0xc5d4, 0xc5d5, 0xc5d4, 0xb5d5, 0xc5d4, 0xa5d5, 0x3108, 0x310a, 0xb5d4, 0xb5d5, 0xc5d4, 0xc5d5, 0xc5d4, 0xb5d5, 0xa5d4, 0xc5d5, 0xc5d4, 0xb5d5, 0xa5d4, 0xa5d5, 0xa5d4, 0xc5d5
    .hword 0xb5dc, 0xc5dd, 0xc5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0xc5dc, 0xc5dd, 0x3108, 0x310a, 0xa5dc, 0xb5dd, 0xa5dc, 0xa5dd, 0xb5dc, 0xb5dd, 0xa5dc, 0xb5dd, 0xa5dc, 0xa5dd, 0xa5dc, 0xb5dd, 0xa5dc, 0xb5dd
    .hword 0xb5d4, 0xa5d5, 0xa5d4, 0xc5d5, 0xb5d4, 0xc5d5, 0xa5d4, 0xc5d5, 0x3108, 0x310a, 0xa5d4, 0xb5d5, 0xb5d4, 0xb5d5, 0xa5d4, 0xb5d5, 0xc5d4, 0xb5d5, 0xc5d4, 0xa5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xb5d5
    .hword 0xc5dc, 0xc5dd, 0xc5dc, 0xc5dd, 0xb5dc, 0xb5dd, 0xc5dc, 0xc5dd, 0x3108, 0x310a, 0xb5dc, 0xa5dd, 0xb5dc, 0xa5dd, 0xc5dc, 0xb5dd, 0xb5dc, 0xb5dd, 0xa5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0xc5dc, 0xa5dd

.align 4
TheStoryteller_MapConnections:
    .hword 0x3920
    .byte 10, 7
    .hword 0x3920
    .byte 10, 7
    .hword 0x3920
    .byte 10, 7
    .hword 0x3828
    .byte 135, 138
    .hword 0x3828
    .byte 135, 138
    .hword 0x3828
    .byte 135, 138
    .hword 0x3828
    .byte 135, 138
    .hword 0x3336
    .byte 11, 161
    .hword 0x3336
    .byte 11, 161
    .hword 0x3336
    .byte 11, 161
    .hword 0x3336
    .byte 11, 161

.align 4
TheStoryteller_MapName:
    .string "THE BLING PARK$"

# scripts/3420_TheStoryteller.s

.align 4

TheStoryteller_MapInitCode:
    bx lr

TheStoryteller_MapInitScript:
    end

TheStoryteller_Script1:
    lock
    faceplayer
    msgbox TheStoryteller_Script1_Text
    checkflag FLAG_GOT_COIN_CASE
    goto_if FALSE, TheStoryteller_Script1_GiveCase
    release
    end

TheStoryteller_Script1_GiveCase:
    setflag FLAG_GOT_COIN_CASE
    message TheStoryteller_Script1_Text2
    waitmessage
    playfanfare MUS_RG_OBTAIN_KEY_ITEM
    waitfanfare
    call SyncProgressScript
    release
    end

TheStoryteller_Script1_Text:
    .string "Damn. As always with gambling,\n"
    .string "the house always wins...\p"
    .string "I gambled all my COINS away in the\n"
    .string "Glitchland Game Corner!\p"
    .string "I have no use for my COIN CASE\n"
    .string "anymore, so I guess you can have it.$"

TheStoryteller_Script1_Text2:
    .string "You obtained the COIN CASE.\n"
    .string "Game Corner slots are playable now!$"

TheStoryteller_Script2:
    lock
    faceplayer
    msgbox TheStoryteller_Script2_Text
    release
    end

TheStoryteller_Script2_Text:
    .string "Interesting. Our map analysis\n"
    .string "techniques indicate that a lot of\l"
    .string "unused content was once present in\l"
    .string "this area.\p"
    .string "I wonder if any of that incomplete\n"
    .string "content is still accessible?$"

