# fools2022 - autogenerated map file, please do not change!
# created from: pokeemerald/data/maps/x3B22_LostWoods/map.json

.thumb
.include "include/constants.inc"
.org MAP_LOAD_BASE

.include "include/macros.inc"
.include "include/symbols.inc"
.include "include/map.inc"
.include "include/event.inc"
.include "include/save.inc"

LostWoods_MapHeader:
    .word LostWoods_MapLayout
    .word LostWoods_MapEvts
    .word NULL
    .word NULL
    .hword MUS_RG_SEVII_CAVE
    .hword 0
    .byte 0
    .byte 0
    .byte WEATHER_NONE
    .byte 0
    .hword 0
    map_header_flags allow_cycling=1, allow_escaping=1, allow_running=1, show_map_name=1
    .byte 0
    # additional data specific to fools2022 maps
    .word LostWoods_MapInitCode+1
    .word LostWoods_MapConnections
    .word LostWoods_MapInitScript
    .word LostWoods_MapName
    .word 0x1518

LostWoods_MapLayout:
    .word 26
    .word 26
    .word LostWoods_MapBorder
    .word LostWoods_MapData
    .word gTileset_General
    .word gTileset_Petalburg

.align 4
LostWoods_MapObjectEvents:
    object_event 1, OBJ_EVENT_GFX_GIRL_1, 0, 44, 37, 3, MOVEMENT_TYPE_LOOK_AROUND, 0, 0, TRAINER_TYPE_NONE, 0, LostWoods_Script1, 0x11

.align 4
LostWoods_MapCoordEvents:
    coord_event 12, 8, 0, 0x4086, 0, LostWoods_GoingNorth
    coord_event 13, 8, 0, 0x4086, 0, LostWoods_GoingNorth
    coord_event 17, 12, 0, 0x4086, 0, LostWoods_GoingEast
    coord_event 17, 13, 0, 0x4086, 0, LostWoods_GoingEast
    coord_event 13, 17, 0, 0x4086, 0, LostWoods_GoingSouth
    coord_event 12, 17, 0, 0x4086, 0, LostWoods_GoingSouth
LostWoods_WarpCoordEvents:
    coord_event 7, 12, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 7, 13, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 12, 7, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 13, 7, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 12, 18, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 13, 18, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 18, 12, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 18, 13, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT

.align 4
LostWoods_MapBGEvents:
    bg_event 13, 13, 0, BG_EVENT_PLAYER_FACING_ANY, LostWoods_Script2

.align 4
LostWoods_MapEvts:
    map_events 1, LostWoods_MapObjectEvents, 0, 0, 14, LostWoods_MapCoordEvents, 1, LostWoods_MapBGEvents

.align 4
LostWoods_MapBorder:
    .byte 0xd4, 0x01, 0xd5, 0x01, 0xdc, 0x01, 0xdd, 0x01

.align 4
LostWoods_MapData:
    .hword 0xc5d4, 0xb5d5, 0xb5d4, 0xa5d5, 0xb5d4, 0xb5d5, 0xa5d4, 0xb5d5, 0xa5d4, 0xb5d5, 0xc5d4, 0xb5d5, 0x31d8, 0x31da, 0xb5d4, 0xb5d5, 0xb5d4, 0xc5d5, 0xb5d4, 0xb5d5, 0xb5d4, 0xc5d5, 0xb5d4, 0xb5d5, 0xa5d4, 0xb5d5
    .hword 0xc5dc, 0xb5dd, 0xa5dc, 0xb5dd, 0xc5dc, 0xa5dd, 0xa5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0x31d8, 0x31da, 0xc5dc, 0xb5dd, 0xc5dc, 0xb5dd, 0xa5dc, 0xa5dd, 0xa5dc, 0xc5dd, 0xc5dc, 0xb5dd, 0xc5dc, 0xc5dd
    .hword 0xa5d4, 0xa5d5, 0xb5d4, 0xb5d5, 0xa5d4, 0xb5d5, 0xc5d4, 0xb5d5, 0xb5d4, 0xb5d5, 0xc5d4, 0xc5d5, 0x31d8, 0x31da, 0xc5d4, 0xb5d5, 0xc5d4, 0xc5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xc5d5, 0xa5d4, 0xb5d5, 0xb5d4, 0xa5d5
    .hword 0xb5dc, 0xa5dd, 0xa5dc, 0xc5dd, 0xa5dc, 0xa5dd, 0xb5dc, 0xb5dd, 0xb5dc, 0xa5dd, 0xa5dc, 0xb5dd, 0x31d8, 0x31da, 0xa5dc, 0xb5dd, 0xa5dc, 0xb5dd, 0xb5dc, 0xc5dd, 0xb5dc, 0xa5dd, 0xa5dc, 0xa5dd, 0xa5dc, 0xa5dd
    .hword 0xa5d4, 0xc5d5, 0xc5d4, 0xc5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xb5d5, 0xc5d4, 0xc5d5, 0xa5d4, 0xc5d5, 0x31d8, 0x31da, 0xc5d4, 0xc5d5, 0xc5d4, 0xc5d5, 0xb5d4, 0xc5d5, 0xb5d4, 0xc5d5, 0xb5d4, 0xc5d5, 0xc5d4, 0xc5d5
    .hword 0xc5dc, 0xb5dd, 0xb5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0xa5dc, 0xa5dd, 0xa5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0x31d8, 0x31da, 0xb5dc, 0xb5dd, 0xc5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0xc5dc, 0xc5dd, 0xc5dc, 0xa5dd, 0xc5dc, 0xa5dd
    .hword 0xc5d4, 0xb5d5, 0xb5d4, 0xb5d5, 0xb5d4, 0xa5d5, 0xb5d4, 0xc5d5, 0xb5d4, 0xb5d5, 0xc5d4, 0xc5d5, 0x31d8, 0x31da, 0xa5d4, 0xc5d5, 0xc5d4, 0xc5d5, 0xa5d4, 0xa5d5, 0xb5d4, 0xa5d5, 0xa5d4, 0xa5d5, 0xc5d4, 0xa5d5
    .hword 0xb5dc, 0xb5dd, 0xc5dc, 0xc5dd, 0xb5dc, 0xb5dd, 0xa5dc, 0xc5dd, 0xb5e4, 0xa5e5, 0xa5e4, 0xb5e5, 0x31d8, 0x31da, 0xa5e4, 0xb5e5, 0xc5e4, 0xc5e5, 0xb5dc, 0xa5dd, 0xb5dc, 0xb5dd, 0xb5dc, 0xc5dd, 0xa5dc, 0xa5dd
    .hword 0xa5d4, 0xa5d5, 0xc5d4, 0xb5d5, 0xa5d4, 0xc5d5, 0xa5d4, 0xb5d5, 0x300d, 0x300d, 0x3001, 0x3001, 0x31d8, 0x31da, 0x3001, 0x3001, 0x300d, 0x300d, 0xa5d4, 0xc5d5, 0xa5d4, 0xc5d5, 0xa5d4, 0xc5d5, 0xb5d4, 0xb5d5
    .hword 0xc5dc, 0xc5dd, 0xb5dc, 0xa5dd, 0xb5dc, 0xc5dd, 0xc5dc, 0xa5dd, 0x300d, 0x3001, 0x3004, 0x3001, 0x31d8, 0x31da, 0x3001, 0x3004, 0x3001, 0x300d, 0xa5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0xa5dc, 0xb5dd, 0xa5dc, 0xa5dd
    .hword 0xc5d4, 0xb5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xc5d5, 0xa5d4, 0xb5d5, 0x3001, 0x3004, 0x3001, 0x31d0, 0x31d9, 0x31d9, 0x31d2, 0x3001, 0x3004, 0x3001, 0xb5d4, 0xc5d5, 0xa5d4, 0xb5d5, 0xb5d4, 0xc5d5, 0xc5d4, 0xc5d5
    .hword 0xc5e4, 0xa5e5, 0xb5e4, 0xc5e5, 0xa5e4, 0xc5e5, 0xa5e4, 0xa5e5, 0x3001, 0x3001, 0x31d0, 0x31d9, 0x31d9, 0x31d9, 0x31d9, 0x31d2, 0x3001, 0x3001, 0xb5e4, 0xc5e5, 0xa5e4, 0xb5e5, 0xa5e4, 0xc5e5, 0xb5e4, 0xa5e5
    .hword 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d9, 0x31d9, 0x31d9, 0x31d9, 0x31d9, 0x31d9, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1, 0x31d1
    .hword 0x3271, 0x3279, 0x3271, 0x3279, 0x3271, 0x3279, 0x3271, 0x3279, 0x31e1, 0x31e1, 0x31d9, 0x31d9, 0x31d9, 0xc403, 0x31d9, 0x31d9, 0x31e1, 0x31e1, 0x3271, 0x3279, 0x3271, 0x3279, 0x3271, 0x3279, 0x3271, 0x3279
    .hword 0xb5d4, 0xa5d5, 0xc5d4, 0xb5d5, 0xc5d4, 0xc5d5, 0xa5d4, 0xb5d5, 0x3001, 0x3001, 0x31e0, 0x31d9, 0x31d9, 0x31d9, 0x31d9, 0x31e2, 0x3001, 0x3001, 0xc5d4, 0xc5d5, 0xa5d4, 0xa5d5, 0xb5d4, 0xa5d5, 0xa5d4, 0xa5d5
    .hword 0xa5dc, 0xb5dd, 0xb5dc, 0xa5dd, 0xa5dc, 0xc5dd, 0xc5dc, 0xc5dd, 0x3001, 0x3004, 0x3001, 0x31e0, 0x31d9, 0x31d9, 0x31e2, 0x3001, 0x3004, 0x3001, 0xc5dc, 0xb5dd, 0xc5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0xa5dc, 0xa5dd
    .hword 0xb5d4, 0xb5d5, 0xa5d4, 0xa5d5, 0xa5d4, 0xc5d5, 0xa5d4, 0xa5d5, 0x300d, 0x3001, 0x3004, 0x3001, 0x31d8, 0x31da, 0x3001, 0x3004, 0x3001, 0x300d, 0xb5d4, 0xb5d5, 0xa5d4, 0xb5d5, 0xa5d4, 0xa5d5, 0xb5d4, 0xc5d5
    .hword 0xb5dc, 0xc5dd, 0xc5dc, 0xa5dd, 0xb5dc, 0xa5dd, 0xc5dc, 0xb5dd, 0x31c6, 0x31c7, 0x31ce, 0x31cf, 0x31d8, 0x31da, 0x31ce, 0x31cf, 0x31c6, 0x31c7, 0xa5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0xb5dc, 0xc5dd, 0xb5dc, 0xa5dd
    .hword 0xb5d4, 0xc5d5, 0xa5d4, 0xc5d5, 0xc5d4, 0xa5d5, 0xa5d4, 0xa5d5, 0xa5d4, 0xa5d5, 0xc5d4, 0xa5d5, 0x31d8, 0x31da, 0xb5d4, 0xc5d5, 0xa5d4, 0xb5d5, 0xb5d4, 0xc5d5, 0xa5d4, 0xb5d5, 0xb5d4, 0xa5d5, 0xc5d4, 0xb5d5
    .hword 0xb5dc, 0xb5dd, 0xc5dc, 0xb5dd, 0xb5dc, 0xb5dd, 0xb5dc, 0xa5dd, 0xc5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0x31d8, 0x31da, 0xc5dc, 0xb5dd, 0xa5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0xb5dc, 0xc5dd, 0xa5dc, 0xb5dd, 0xa5dc, 0xb5dd
    .hword 0xb5d4, 0xb5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xa5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xc5d5, 0xb5d4, 0xa5d5, 0x31d8, 0x31da, 0xc5d4, 0xa5d5, 0xc5d4, 0xc5d5, 0xb5d4, 0xb5d5, 0xb5d4, 0xb5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xa5d5
    .hword 0xc5dc, 0xb5dd, 0xa5dc, 0xc5dd, 0xb5dc, 0xb5dd, 0xa5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0xb5dc, 0xa5dd, 0x31d8, 0x31da, 0xa5dc, 0xa5dd, 0xb5dc, 0xa5dd, 0xa5dc, 0xa5dd, 0xb5dc, 0xa5dd, 0xa5dc, 0xa5dd, 0xc5dc, 0xb5dd
    .hword 0xa5d4, 0xa5d5, 0xc5d4, 0xb5d5, 0xb5d4, 0xb5d5, 0xb5d4, 0xa5d5, 0xc5d4, 0xc5d5, 0xa5d4, 0xc5d5, 0x31d8, 0x31da, 0xc5d4, 0xb5d5, 0xa5d4, 0xb5d5, 0xa5d4, 0xc5d5, 0xb5d4, 0xc5d5, 0xa5d4, 0xa5d5, 0xb5d4, 0xc5d5
    .hword 0xa5dc, 0xc5dd, 0xb5dc, 0xa5dd, 0xc5dc, 0xb5dd, 0xc5dc, 0xa5dd, 0xb5dc, 0xc5dd, 0xc5dc, 0xc5dd, 0x31d8, 0x31da, 0xc5dc, 0xc5dd, 0xc5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0xc5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0xa5dc, 0xb5dd
    .hword 0xa5d4, 0xb5d5, 0xc5d4, 0xa5d5, 0xb5d4, 0xc5d5, 0xb5d4, 0xc5d5, 0xb5d4, 0xb5d5, 0xa5d4, 0xb5d5, 0x31d8, 0x31da, 0xb5d4, 0xa5d5, 0xa5d4, 0xc5d5, 0xb5d4, 0xc5d5, 0xb5d4, 0xa5d5, 0xa5d4, 0xc5d5, 0xb5d4, 0xb5d5
    .hword 0xc5dc, 0xa5dd, 0xc5dc, 0xb5dd, 0xa5dc, 0xb5dd, 0xc5dc, 0xb5dd, 0xc5e4, 0xc5e5, 0xb5e4, 0xb5e5, 0x31d8, 0x31da, 0xb5e4, 0xc5e5, 0xa5e4, 0xc5e5, 0xc5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0xb5dc, 0xb5dd, 0xb5dc, 0xa5dd

.align 4
LostWoods_MapConnections:
    .hword 0x3a3e
    .byte 160, 8
    .hword 0x3a3e
    .byte 160, 8
    .hword 15138
    .byte 135, 141
    .hword 15138
    .byte 135, 141
    .hword 15138
    .byte 135, 141
    .hword 15138
    .byte 135, 141
    .hword 15138
    .byte 135, 141
    .hword 15138
    .byte 135, 141

.align 4
LostWoods_MapName:
    .string "LOST WOODS$"

# scripts/3B22_LostWoods.s

.align 4

LostWoods_MapInitCode:
    # shift paths taken
    ldr r1, =zLostWoods
    ldrb r0, [r1, #0x02]
    strb r0, [r1, #0x03]
    ldrb r0, [r1, #0x01]
    strb r0, [r1, #0x02]
    ldrb r0, [r1, #0x00]
    strb r0, [r1, #0x01]
    mov r0, #0
    strb r0, [r1, #0x00]
    # test paths taken
    # edge
    ldr r1, =zLostWoods
    ldr r0, [r1]
    ldr r1, =0x01010200
    cmp r0, r1
    bne LostWoods_MapInitCode_Skip1
    # eastern edge on northern connection
    ldr r0, =LostWoods_MapConnections+8
    ldr r1, =0x86873c36
    str r1, [r0, #0x00]
    str r1, [r0, #0x04]
LostWoods_MapInitCode_Skip1:
    # sub A
    ldr r1, =zLostWoods
    ldr r0, [r1]
    ldr r1, =0x02030100
    cmp r0, r1
    bne LostWoods_MapInitCode_Skip2
    # sub A on eastern connection
    ldr r0, =LostWoods_MapConnections+24
    ldr r1, =0x8c083b30
    str r1, [r0, #0x00]
    str r1, [r0, #0x04]
LostWoods_MapInitCode_Skip2:
    # sub B
    ldr r1, =zLostWoods
    ldr r0, [r1]
    ldr r1, =0x02010300
    cmp r0, r1
    bne LostWoods_MapInitCode_Skip3
    # sub B on eastern connection
    ldr r0, =LostWoods_MapConnections+24
    ldr r1, =0x8c083b31
    str r1, [r0, #0x00]
    str r1, [r0, #0x04]
LostWoods_MapInitCode_Skip3:
    # sub C
    ldr r1, =zLostWoods
    ldr r0, [r1]
    ldr r1, =0x01020300
    cmp r0, r1
    bne LostWoods_MapInitCode_Skip4
    # sub C on southern connection
    ldr r0, =LostWoods_MapConnections+16
    ldr r1, =0x8c083b32
    str r1, [r0, #0x00]
    str r1, [r0, #0x04]
LostWoods_MapInitCode_Skip4:
    bx lr

LostWoods_Write1:
    ldr r0, =zLostWoods
    mov r1, #1
    strb r1, [r0]
    bx lr

LostWoods_Write2:
    ldr r0, =zLostWoods
    mov r1, #2
    strb r1, [r0]
    bx lr

LostWoods_Write3:
    ldr r0, =zLostWoods
    mov r1, #3
    strb r1, [r0]
    bx lr

.align 4
.ltorg

LostWoods_MapInitScript:
    end

LostWoods_Script1:
    lock
    faceplayer
    msgbox LostWoods_Script1_Text
    release
    end

LostWoods_Script1_Text:
    .string "Remember - if you get lost,\n"
    .string "going west is a sure way out!\p"
    .string "I also heard some people around the\n"
    .string "region can help you navigate this\l"
    .string "natural maze.\p"
    .string "A girl from the nearest camp should\n"
    .string "know how to reach Eastern Edge, but\l"
    .string "I'm not sure about the rest...$"

LostWoods_GoingEast:
    callnative LostWoods_Write1
    end

LostWoods_GoingNorth:
    callnative LostWoods_Write2
    end

LostWoods_GoingSouth:
    callnative LostWoods_Write3
    end

LostWoods_Script2:
    lock
    msgbox LostWoods_Script2_Text
    release
    end

LostWoods_Script2_Text:
    .string "LOST WOODS\n"
    .string "Be careful not to get lost!$"
