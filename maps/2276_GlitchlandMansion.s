# fools2022 - autogenerated map file, please do not change!
# created from: pokeemerald/data/maps/x2276_GlitchlandMansion/map.json

.thumb
.include "include/constants.inc"
.org MAP_LOAD_BASE

.include "include/macros.inc"
.include "include/symbols.inc"
.include "include/map.inc"
.include "include/event.inc"
.include "include/save.inc"

GlitchlandMansion_MapHeader:
    .word GlitchlandMansion_MapLayout
    .word GlitchlandMansion_MapEvts
    .word NULL
    .word NULL
    .hword MUS_RG_SEVII_CAVE
    .hword 0
    .byte 0
    .byte 0
    .byte WEATHER_NONE
    .byte 0
    .hword 0
    map_header_flags allow_cycling=1, allow_escaping=1, allow_running=1, show_map_name=1
    .byte 0
    # additional data specific to fools2022 maps
    .word GlitchlandMansion_MapInitCode+1
    .word GlitchlandMansion_MapConnections
    .word GlitchlandMansion_MapInitScript
    .word GlitchlandMansion_MapName
    .word 0x1718

GlitchlandMansion_MapLayout:
    .word 24
    .word 36
    .word GlitchlandMansion_MapBorder
    .word GlitchlandMansion_MapData
    .word gTileset_Building
    .word gTileset_InsideShip

.align 4
GlitchlandMansion_MapObjectEvents:
    object_event 1, OBJ_EVENT_GFX_PUSHABLE_BOULDER, 0, 6, 29, 3, MOVEMENT_TYPE_NONE, 0, 0, TRAINER_TYPE_NONE, 0, EventScript_StrengthBoulder, 0
    object_event 2, OBJ_EVENT_GFX_PUSHABLE_BOULDER, 0, 9, 18, 3, MOVEMENT_TYPE_NONE, 0, 0, TRAINER_TYPE_NONE, 0, EventScript_StrengthBoulder, 0
    object_event 3, OBJ_EVENT_GFX_PUSHABLE_BOULDER, 0, 12, 6, 3, MOVEMENT_TYPE_NONE, 0, 0, TRAINER_TYPE_NONE, 0, EventScript_StrengthBoulder, 0
    object_event 4, OBJ_EVENT_GFX_PUSHABLE_BOULDER, 0, 11, 20, 3, MOVEMENT_TYPE_NONE, 0, 0, TRAINER_TYPE_NONE, 0, EventScript_StrengthBoulder, 0
    object_event 5, OBJ_EVENT_GFX_PUSHABLE_BOULDER, 0, 12, 20, 3, MOVEMENT_TYPE_NONE, 0, 0, TRAINER_TYPE_NONE, 0, EventScript_StrengthBoulder, 0
    object_event 6, OBJ_EVENT_GFX_PUSHABLE_BOULDER, 0, 9, 20, 3, MOVEMENT_TYPE_NONE, 0, 0, TRAINER_TYPE_NONE, 0, EventScript_StrengthBoulder, 0
    object_event 7, OBJ_EVENT_GFX_PUSHABLE_BOULDER, 0, 5, 8, 3, MOVEMENT_TYPE_NONE, 0, 0, TRAINER_TYPE_NONE, 0, EventScript_StrengthBoulder, 0
    object_event 8, OBJ_EVENT_GFX_PUSHABLE_BOULDER, 0, 10, 19, 3, MOVEMENT_TYPE_NONE, 0, 0, TRAINER_TYPE_NONE, 0, EventScript_StrengthBoulder, 0
    object_event 9, OBJ_EVENT_GFX_PUSHABLE_BOULDER, 0, 12, 5, 3, MOVEMENT_TYPE_NONE, 0, 0, TRAINER_TYPE_NONE, 0, EventScript_StrengthBoulder, 0
    object_event 10, OBJ_EVENT_GFX_SCOTT, 0, 20, 2, 3, MOVEMENT_TYPE_FACE_DOWN, 0, 0, TRAINER_TYPE_NONE, 0, GlitchlandMansion_Script1, FLAG_MANSION_PICKING2

.align 4
GlitchlandMansion_MapCoordEvents:
GlitchlandMansion_WarpCoordEvents:
    coord_event 15, 34, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 16, 34, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 20, 1, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT

.align 4
GlitchlandMansion_MapBGEvents:
    bg_event 13, 28, 0, BG_EVENT_PLAYER_FACING_ANY, GlitchlandMansion_Script2
    bg_event 9, 17, 0, BG_EVENT_PLAYER_FACING_ANY, GlitchlandMansion_Script3
    bg_event 20, 19, 0, BG_EVENT_PLAYER_FACING_ANY, GlitchlandMansion_Script4
    bg_event 7, 4, 0, BG_EVENT_PLAYER_FACING_ANY, GlitchlandMansion_Script5
    bg_event 15, 4, 0, BG_EVENT_PLAYER_FACING_ANY, GlitchlandMansion_Script6
    bg_event 10, 21, 0, BG_EVENT_PLAYER_FACING_ANY, GlitchlandMansion_Script7
    bg_event 14, 20, 0, BG_EVENT_PLAYER_FACING_ANY, GlitchlandMansion_Script8

.align 4
GlitchlandMansion_MapEvts:
    map_events 10, GlitchlandMansion_MapObjectEvents, 0, 0, 3, GlitchlandMansion_MapCoordEvents, 7, GlitchlandMansion_MapBGEvents

.align 4
GlitchlandMansion_MapBorder:
    .byte 0x01, 0x02, 0x01, 0x02, 0x01, 0x02, 0x01, 0x02

.align 4
GlitchlandMansion_MapData:
    .hword 0xc601, 0xa601, 0xc601, 0xb601, 0xc601, 0xc601, 0xb601, 0xa601, 0xa601, 0xa601, 0xc601, 0xc601, 0xa601, 0xc601, 0xa601, 0xb601, 0xc601, 0xc601, 0xb636, 0xb695, 0xc663, 0xa696, 0xc601, 0xa601
    .hword 0xb601, 0xb601, 0xb601, 0xb601, 0xa601, 0xb601, 0xb601, 0xb601, 0xc601, 0xc601, 0xa601, 0xa601, 0xb601, 0xc601, 0xa601, 0xb601, 0xc601, 0xb601, 0xa63e, 0xc69d, 0xa633, 0xc69e, 0xa601, 0xc601
    .hword 0xa601, 0xa601, 0xb601, 0xb601, 0xc601, 0xc601, 0xc601, 0xc601, 0xc601, 0xa601, 0xb601, 0xc601, 0xb601, 0xa601, 0xc601, 0xa601, 0xb601, 0xb601, 0xb63e, 0x323a, 0x323b, 0x323b, 0xc601, 0xc601
    .hword 0xa601, 0xc601, 0xb601, 0xb636, 0xb627, 0xc627, 0xa695, 0xb6af, 0xb696, 0xa627, 0xb627, 0xc627, 0xa627, 0xa627, 0xb695, 0xc6af, 0xa696, 0xa627, 0xb627, 0x323d, 0x3238, 0x3238, 0xb601, 0xa601
    .hword 0xb601, 0xb601, 0xc601, 0xb63e, 0xb648, 0xa673, 0xc69d, 0xb6b7, 0xc69e, 0xb62f, 0xb62f, 0xb62f, 0xc62f, 0xc62f, 0xb69d, 0xc6b7, 0xa69e, 0xb62f, 0xc62f, 0x323d, 0x3238, 0x3238, 0xc601, 0xc601
    .hword 0xa601, 0xc601, 0xa601, 0xb63e, 0xc650, 0xc651, 0x323b, 0x323b, 0x323b, 0x323b, 0x323b, 0x323b, 0x323b, 0x323b, 0x323b, 0x323b, 0x323b, 0x323b, 0x323b, 0x323c, 0x3238, 0x3238, 0xc601, 0xc601
    .hword 0xa601, 0xb601, 0xa601, 0xc63e, 0xa658, 0xc659, 0x3238, 0xa6e3, 0xc6e4, 0xc6e5, 0xc6aa, 0xa6ab, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0xa6aa, 0xc6ab, 0xa601, 0xa601
    .hword 0xc601, 0xa601, 0xa601, 0xb63e, 0xb6ab, 0x3238, 0x3238, 0xc6eb, 0xa6ec, 0xc6ed, 0x3238, 0x3238, 0x3238, 0xa6aa, 0xb6ab, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0xc601, 0xb601
    .hword 0xb601, 0xc601, 0xa601, 0xa63e, 0x3238, 0x3238, 0x3238, 0xc6f3, 0xa6f4, 0xc6f5, 0x3238, 0x3238, 0x3238, 0xb63f, 0xc601, 0xa601, 0xb601, 0xc601, 0xb601, 0xc601, 0xc601, 0xa601, 0xa601, 0xa601
    .hword 0xc601, 0xb601, 0xc601, 0xb63e, 0x3238, 0xc6aa, 0xb6ab, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0xc63f, 0xb601, 0xc601, 0xa601, 0xc601, 0xa601, 0xb601, 0xc601, 0xb601, 0xc601, 0xb601
    .hword 0xa601, 0xc601, 0xc601, 0xb63e, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0xa627, 0xb627, 0xb627, 0xc627, 0xb637, 0xc601, 0xc601, 0xb601, 0xa601, 0xa601, 0xb601
    .hword 0xc601, 0xc601, 0xc601, 0xb601, 0xb601, 0xb601, 0xc601, 0xb601, 0xa601, 0xa601, 0xa63e, 0x323d, 0xb6aa, 0xa62f, 0xb62f, 0xc62f, 0xb62f, 0xb63f, 0xa601, 0xa601, 0xc601, 0xc601, 0xc601, 0xa601
    .hword 0xc601, 0xc601, 0xb601, 0xb601, 0xb601, 0xb601, 0xc601, 0xc601, 0xa601, 0xc601, 0xa63e, 0x323d, 0x3238, 0x323b, 0x323b, 0x323b, 0x323b, 0xb63f, 0xa601, 0xa601, 0xa601, 0xb601, 0xb601, 0xb601
    .hword 0xb601, 0xc601, 0xa601, 0xa601, 0xb601, 0xa601, 0xa601, 0xc601, 0xa601, 0xa601, 0xb63e, 0x323d, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0xb63f, 0xb601, 0xb601, 0xc601, 0xa601, 0xa601, 0xc601
    .hword 0xa601, 0xb601, 0xa601, 0xa601, 0xb601, 0xa601, 0xa601, 0xa601, 0xc601, 0xc601, 0xb601, 0xb601, 0xc601, 0xb601, 0xc63e, 0x323d, 0x3238, 0xb63f, 0xa601, 0xb601, 0xa601, 0xb601, 0xc601, 0xc601
    .hword 0xa601, 0xc601, 0xb601, 0xc601, 0xc601, 0xa601, 0xc601, 0xc601, 0xb601, 0xb601, 0xc601, 0xa601, 0xa601, 0xa601, 0xc63e, 0x323d, 0xc6aa, 0xb63f, 0xc601, 0xb601, 0xb601, 0xb601, 0xb601, 0xc601
    .hword 0xa601, 0xa601, 0xa601, 0xb601, 0xb636, 0xb627, 0xa627, 0xb627, 0xa695, 0xa6af, 0xc696, 0xb627, 0xa637, 0xc601, 0xa63e, 0x323d, 0x3238, 0xb63f, 0xb601, 0xc601, 0xa601, 0xb601, 0xb601, 0xa601
    .hword 0xa601, 0xa601, 0xc601, 0xc601, 0xc63e, 0xa62f, 0xb62f, 0xc62f, 0xb69d, 0xa6b7, 0xb69e, 0xa62f, 0xa63f, 0xa601, 0xc63e, 0x323d, 0x3238, 0xc63f, 0xc601, 0xc601, 0xc601, 0xb601, 0xb601, 0xa601
    .hword 0xc601, 0xb601, 0xa601, 0xa601, 0xb63e, 0x323a, 0x323b, 0x323b, 0x323b, 0x323b, 0x323b, 0x323b, 0xb627, 0xb627, 0xa627, 0x0624, 0x0622, 0xb627, 0xc627, 0xb695, 0xc6af, 0xb696, 0xb601, 0xa601
    .hword 0xc601, 0xa601, 0xb601, 0xb601, 0xc63e, 0x323d, 0x3238, 0xb6aa, 0xa6ab, 0x3238, 0x3238, 0x3238, 0xb62f, 0xa62f, 0xb62f, 0x062c, 0x062a, 0xb62f, 0xa62f, 0xc69d, 0xc6b7, 0xc69e, 0xa601, 0xc601
    .hword 0xa601, 0xb601, 0xc601, 0xa601, 0xb63e, 0x323d, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x323b, 0x323b, 0xa635, 0x323b, 0x323b, 0x323b, 0x323b, 0x323b, 0x323b, 0x323b, 0xc601, 0xc601
    .hword 0xb601, 0xa601, 0xa601, 0xb601, 0xc63e, 0x323d, 0x3238, 0x3238, 0x3238, 0x3238, 0xc662, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0xb6aa, 0xc601, 0xa601
    .hword 0xc601, 0xc601, 0xc601, 0xa601, 0xa63e, 0x323d, 0x3238, 0x3238, 0xa63f, 0xc601, 0xa601, 0xc601, 0xb601, 0xb601, 0xa601, 0xa601, 0xc601, 0xc601, 0xa601, 0xb601, 0xb601, 0xa601, 0xc601, 0xb601
    .hword 0xb601, 0xa601, 0xc601, 0xa601, 0xc63e, 0x323d, 0x3238, 0x3238, 0xc63f, 0xb601, 0xa601, 0xa601, 0xa601, 0xc601, 0xc601, 0xc601, 0xa601, 0xb601, 0xc601, 0xb601, 0xa601, 0xc601, 0xc601, 0xc601
    .hword 0xc601, 0xa601, 0xa601, 0xb601, 0xc63e, 0xc6ab, 0x3238, 0x3238, 0xa63f, 0xc601, 0xb601, 0xc601, 0xa601, 0xc601, 0xa601, 0xa601, 0xb601, 0xa601, 0xb601, 0xa601, 0xa601, 0xb601, 0xc601, 0xb601
    .hword 0xb601, 0xb601, 0xa601, 0xa601, 0xc63e, 0x323d, 0x3238, 0x3238, 0xb63f, 0xa601, 0xb601, 0xb601, 0xb601, 0xa601, 0xa601, 0xa601, 0xb601, 0xc601, 0xc601, 0xa601, 0xa601, 0xc601, 0xc601, 0xc601
    .hword 0xa601, 0xa601, 0xc601, 0xa601, 0xb63e, 0x323d, 0xa6aa, 0xa6ab, 0xa63f, 0xa601, 0xc601, 0xc601, 0xb601, 0xa601, 0xa601, 0xb601, 0xb601, 0xb601, 0xc601, 0xb601, 0xb601, 0xc601, 0xc601, 0xa601
    .hword 0xb601, 0xb601, 0xc601, 0xa601, 0xb63e, 0x323d, 0x3238, 0x3238, 0xc627, 0xb627, 0xa627, 0xa627, 0xc695, 0xa6af, 0xb696, 0xb627, 0xb627, 0xb637, 0xa601, 0xb601, 0xa601, 0xc601, 0xa601, 0xc601
    .hword 0xa601, 0xa601, 0xa601, 0xb601, 0xb63e, 0x323d, 0x3238, 0xb6aa, 0xa62f, 0xa62f, 0xa62f, 0xc62f, 0xc69d, 0xb6b7, 0xc69e, 0xc62f, 0xa62f, 0xa63f, 0xa601, 0xc601, 0xa601, 0xa601, 0xb601, 0xb601
    .hword 0xc601, 0xb601, 0xc601, 0xa601, 0xc63e, 0xc6ab, 0x3238, 0x3238, 0x323b, 0x323b, 0x323b, 0x323b, 0x323b, 0x323b, 0x323b, 0x323b, 0x323b, 0xc63f, 0xa601, 0xb601, 0xb601, 0xb601, 0xb601, 0xb601
    .hword 0xb601, 0xb601, 0xa601, 0xc601, 0xb63e, 0x323d, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0xa660, 0x3238, 0x3238, 0x3238, 0xc6aa, 0xb63f, 0xc601, 0xb601, 0xb601, 0xa601, 0xa601, 0xc601
    .hword 0xa601, 0xc601, 0xb601, 0xc601, 0xb63e, 0x323d, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0x3238, 0xa63f, 0xc601, 0xb601, 0xa601, 0xc601, 0xc601, 0xb601
    .hword 0xa601, 0xa601, 0xa601, 0xa601, 0xa601, 0xb601, 0xc601, 0xa601, 0xb601, 0xc601, 0xa601, 0xa601, 0xc601, 0xa601, 0xa63e, 0x3238, 0x3238, 0xc63f, 0xc601, 0xb601, 0xb601, 0xb601, 0xc601, 0xb601
    .hword 0xb601, 0xa601, 0xa601, 0xc601, 0xb601, 0xb601, 0xc601, 0xc601, 0xc601, 0xa601, 0xc601, 0xa601, 0xb601, 0xc601, 0xb63e, 0x3238, 0x3238, 0xb63f, 0xb601, 0xc601, 0xc601, 0xb601, 0xb601, 0xc601
    .hword 0xa601, 0xb601, 0xa601, 0xb601, 0xc601, 0xb601, 0xc601, 0xc601, 0xb601, 0xb601, 0xa601, 0xb601, 0xc601, 0xc601, 0xa63e, 0x3006, 0x3007, 0xc63f, 0xb601, 0xc601, 0xb601, 0xc601, 0xc601, 0xb601
    .hword 0xc601, 0xb601, 0xb601, 0xc601, 0xc601, 0xc601, 0xb601, 0xb601, 0xc601, 0xb601, 0xb601, 0xa601, 0xc601, 0xb601, 0xb601, 0xa601, 0xc601, 0xb601, 0xa601, 0xa601, 0xc601, 0xa601, 0xc601, 0xc601

.align 4
GlitchlandMansion_MapConnections:
    .hword 8821
    .byte 17, 3
    .hword 8821
    .byte 17, 3
    .hword 8823
    .byte 3, 138

.align 4
GlitchlandMansion_MapName:
    .string "WEST MANSION$"

# scripts/2276_GlitchlandMansion.s

.align 4

GlitchlandMansion_MapInitCode:
    bx lr

GlitchlandMansion_SetTargetMap:
    ldr r0, =zWarpTargetData
    ldr r1, =0x0a032277
    str r1, [r0]
    ldr r0, =zWarpTargetDirection
    mov r1, #1
    strb r1, [r0]
    ldr r0, =zSkipMapExitMovement
    mov r1, #0
    strb r1, [r0]
    bx lr

.ltorg
.align 4

GlitchlandMansion_MapInitScript:
    end

GlitchlandMansion_Script1:
    lock
    faceplayer
    msgbox GlitchlandMansion_Script1_Text
    closemessage
    applymovement 10, GlitchlandMansion_Script1_Turn
    waitmovement 10
    delay 44
    msgbox GlitchlandMansion_Script1_Text2
    setflag FLAG_MANSION_PICKING2
    callnative GlitchlandMansion_SetTargetMap
    goto WarpScript

GlitchlandMansion_Script1_Turn:
    face_up
    step_end

GlitchlandMansion_Script1_Text:
    .string "Ah, you finally got through.\n"
    .string "There's another lock to pick.$"

GlitchlandMansion_Script1_Text2:
    .string "Oh, look!\n"
    .string "It's a disc detainer design!\p"
    .string "The first thing I'm going to do is\n"
    .string "rotate all of those discs as far\l"
    .string "clockwise as they will go.\p"
    .string "Then I'm going to get the pick that\n"
    .string "BosnianBill and I made, and insert\l"
    .string "it in such a way that we tension off\l"
    .string "of disc number one.\p"
    .string "... ... ... ... ... ...\n"
    .string "... ... ... ... ... ...\p"
    .string "Aaaand we got this open.\n"
    .string "That was pretty easy!\p"
    .string "Go inside. I will try this again in\n"
    .string "the meantime, just to show that it\l"
    .string "was not a fluke.$"

GlitchlandMansion_Script2:
    lock
    msgbox GlitchlandMansion_Script2_Text
    release
    end

GlitchlandMansion_Script2_Text:
    .string "Yep. It's a broken door.\n"
    .string "Nothing unusual.$"

GlitchlandMansion_Script3:
    lock
    msgbox GlitchlandMansion_Script3_Text
    release
    end

GlitchlandMansion_Script3_Text:
    .string "Unfortunately, this door seems to\n"
    .string "be temporarily out of order.$"

GlitchlandMansion_Script4:
    lock
    msgbox GlitchlandMansion_Script4_Text
    closemessage
    playse SE_DOOR
    setmetatile 16, 18, 0x238, FALSE
    setmetatile 16, 19, 0x238, FALSE
    setmetatile 16, 20, 0x238, FALSE
    setmetatile 15, 18, 0x23d, FALSE
    setmetatile 15, 19, 0x23d, FALSE
    setmetatile 15, 20, 0x23c, FALSE
    callnative DrawWholeMapView
    delay 30
    release
    end

GlitchlandMansion_Script4_Text:
    .string "Another broken door...\n"
    .string "Hey! There's a hidden switch here!\l"
    .string "Let's just press it!$"

GlitchlandMansion_Script5:
    lock
    msgbox GlitchlandMansion_Script5_Text
    release
    end

GlitchlandMansion_Script5_Text:
    .string "Your persistent broken door habit\n"
    .string "shows no signs of payoff.$"

GlitchlandMansion_Script6:
    lock
    msgbox GlitchlandMansion_Script6_Text
    release
    end

GlitchlandMansion_Script6_Text:
    .string "This door is just like me.\n"
    .string "Completely broken inside.$"

GlitchlandMansion_Script7:
    lock
    msgbox GlitchlandMansion_Script7_Text
    release
    end

GlitchlandMansion_Script7_Text:
    .string "A garbage bin! It contains some\n"
    .string "rubbish! God save the Queen!$"

GlitchlandMansion_Script8:
    lock
    msgbox GlitchlandMansion_Script8_Text
    release
    end

GlitchlandMansion_Script8_Text:
    .string "You are very disgusted with the\n"
    .string "trashy can.$"

GlitchlandMansion_TurnBack:
    checkflag FLAG_MANSION_GOT_SCALE
    goto_if TRUE, GlitchlandMansion_TurnBack_NoAction
    lock
    msgbox GlitchlandMansion_TurnBack_Text
    closemessage
    applymovement 0xff, GlitchlandMansion_TurnBack_Movement
    waitmovement 0xff
GlitchlandMansion_TurnBack_NoAction:
    end
GlitchlandMansion_TurnBack_Movement:
    walk_up
    step_end

GlitchlandMansion_TurnBack_Text:
    .string "Something tells you that you shouldn't\n"
    .string "just turn back.$"

EventScript_StrengthBoulder:
    lock
    faceplayer
    msgbox EventScript_StrengthBoulder_Text
    release
    end

EventScript_StrengthBoulder_Text:
    .string "redacted$"
