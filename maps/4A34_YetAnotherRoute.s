# fools2022 - autogenerated map file, please do not change!
# created from: pokeemerald/data/maps/x4A34_YetAnotherRoute/map.json

.thumb
.include "include/constants.inc"
.org MAP_LOAD_BASE

.include "include/macros.inc"
.include "include/symbols.inc"
.include "include/map.inc"
.include "include/event.inc"
.include "include/save.inc"

YetAnotherRoute_MapHeader:
    .word YetAnotherRoute_MapLayout
    .word YetAnotherRoute_MapEvts
    .word NULL
    .word NULL
    .hword MUS_RG_ROUTE24
    .hword 0
    .byte 0
    .byte 0
    .byte WEATHER_NONE
    .byte 0
    .hword 0
    map_header_flags allow_cycling=1, allow_escaping=1, allow_running=1, show_map_name=1
    .byte 0
    # additional data specific to fools2022 maps
    .word YetAnotherRoute_MapInitCode+1
    .word YetAnotherRoute_MapConnections
    .word YetAnotherRoute_MapInitScript
    .word YetAnotherRoute_MapName
    .word 0x2819

YetAnotherRoute_MapLayout:
    .word 28
    .word 28
    .word YetAnotherRoute_MapBorder
    .word YetAnotherRoute_MapData
    .word gTileset_General
    .word gTileset_Rustboro

.align 4
YetAnotherRoute_MapObjectEvents:
    object_event 1, OBJ_EVENT_GFX_HIKER, 0, 12, 15, 3, MOVEMENT_TYPE_LOOK_AROUND, 0, 0, TRAINER_TYPE_NONE, 0, YetAnotherRoute_Script1, 0

.align 4
YetAnotherRoute_MapCoordEvents:
YetAnotherRoute_WarpCoordEvents:
    coord_event 7, 8, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 7, 9, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 7, 10, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 7, 11, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 16, 20, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 17, 20, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 18, 20, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 19, 20, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT
    coord_event 20, 7, 0, SCRIPT_WARP_TRIGGER, 0, WARP_SCRIPT

.align 4
YetAnotherRoute_MapBGEvents:
    bg_event 19, 6, 0, BG_EVENT_PLAYER_FACING_ANY, YetAnotherRoute_Script2
    bg_event 19, 8, 0, BG_EVENT_PLAYER_FACING_ANY, YetAnotherRoute_Script3
    bg_event 19, 10, 0, BG_EVENT_PLAYER_FACING_ANY, YetAnotherRoute_Script4
    bg_event 13, 7, 0, BG_EVENT_PLAYER_FACING_ANY, YetAnotherRoute_Sign

.align 4
YetAnotherRoute_MapEvts:
    map_events 1, YetAnotherRoute_MapObjectEvents, 0, 0, 9, YetAnotherRoute_MapCoordEvents, 4, YetAnotherRoute_MapBGEvents

.align 4
YetAnotherRoute_MapBorder:
    .byte 0xd4, 0x01, 0xd5, 0x01, 0xdc, 0x01, 0xdd, 0x01

.align 4
YetAnotherRoute_MapData:
    .hword 0xb5d4, 0xa5d5, 0xc5d4, 0xc5d5, 0xa5d4, 0xc5d5, 0xc5d4, 0xc5d5, 0xc5d4, 0xc5d5, 0xb5d4, 0xc5d5, 0xa5d4, 0xa5d5, 0xb5d4, 0xa5d5, 0xc5d4, 0xb5d5, 0xc5d4, 0xb5d5, 0xb5d4, 0xb5d5, 0xa5d4, 0xc5d5, 0xb5d4, 0xa5d5, 0xc5d4, 0xa5d5
    .hword 0xb5dc, 0xa5dd, 0xa5dc, 0xa5dd, 0xb5dc, 0xa5dd, 0xc5dc, 0xb5dd, 0xa5dc, 0xb5dd, 0xb5dc, 0xb5dd, 0xa5dc, 0xb5dd, 0xc5dc, 0xa5dd, 0xb5dc, 0xb5dd, 0xc5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0xa5dc, 0xb5dd, 0xb5dc, 0xb5dd, 0xa5dc, 0xa5dd
    .hword 0xa5d4, 0xa5d5, 0xa5d4, 0xb5d5, 0xc5d4, 0xb5d5, 0xc5d4, 0xc5d5, 0xc5d4, 0xb5d5, 0xa5d4, 0xc5d5, 0xc5d4, 0xa5d5, 0xc5d4, 0xc5d5, 0xa5d4, 0xa5d5, 0xc5d4, 0xc5d5, 0xb5d4, 0xb5d5, 0xa5d4, 0xb5d5, 0xb5d4, 0xa5d5, 0xa5d4, 0xa5d5
    .hword 0xa5dc, 0xb5dd, 0xb5dc, 0xc5dd, 0xb5dc, 0xc5dd, 0xa5dc, 0xb5dd, 0xa5e4, 0xc5e5, 0xa5e4, 0xa5e5, 0xb5e4, 0xb5e5, 0xc5e4, 0xa5e5, 0xa5e4, 0xb5e5, 0xc5e4, 0xb5e5, 0xc5dc, 0xa5dd, 0xa5dc, 0xb5dd, 0xa5dc, 0xc5dd, 0xa5dc, 0xc5dd
    .hword 0xa5d4, 0xb5d5, 0xa5d4, 0xc5d5, 0xb5d4, 0xb5d5, 0xa5d4, 0xc5d5, 0xc6dd, 0xc6b7, 0xb6b7, 0xb6b7, 0xa6b7, 0xa6b7, 0xa6b7, 0xc6b7, 0xa6b7, 0xc6b7, 0xa6b7, 0xc6e5, 0xc5d4, 0xc5d5, 0xb5d4, 0xa5d5, 0xb5d4, 0xa5d5, 0xc5d4, 0xa5d5
    .hword 0xc5dc, 0xc5dd, 0xb5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x05dc, 0x05dd, 0x05dc, 0x05dd, 0x05dc, 0x05dd, 0x05dc, 0x05dd
    .hword 0xb5d4, 0xa5d5, 0xb5d4, 0xb5d5, 0xb5d4, 0xc5d5, 0xc5d4, 0xc5d5, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x31d0, 0x31d2, 0x3004, 0x3001, 0x3001, 0xa6c1, 0x05d4, 0x05d5, 0x05d4, 0x05d5, 0x05d4, 0x05d5, 0x05d4, 0x05d5
    .hword 0xa5e4, 0xc5e5, 0xb5e4, 0xb5e5, 0xc5e4, 0xb5e5, 0xb5e4, 0xb5e5, 0x3001, 0x3001, 0x31d0, 0x31d1, 0x31d1, 0xb403, 0x31d9, 0x31da, 0x3001, 0x3004, 0x3001, 0x3001, 0x05dc, 0x05dd, 0x05dc, 0x05dd, 0x05dc, 0x05dd, 0x05dc, 0x05dd
    .hword 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x3001, 0x31e0, 0x31e1, 0x31e1, 0x31e1, 0x31d9, 0x31da, 0x3001, 0x3001, 0x3001, 0xb6c1, 0xa5d4, 0xc5d5, 0xc5d4, 0xc5d5, 0xa5d4, 0xc5d5, 0xa5d4, 0xa5d5
    .hword 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x3119, 0x311a, 0x31e0, 0x31e2, 0x3001, 0x3001, 0x3001, 0x3001, 0xb5dc, 0xc5dd, 0xc5dc, 0xc5dd, 0xa5dc, 0xb5dd, 0xa5dc, 0xb5dd
    .hword 0x3129, 0x3129, 0x3129, 0x3129, 0x3129, 0x3129, 0x3129, 0x3129, 0x3129, 0x3129, 0x3129, 0x3129, 0x3121, 0x3121, 0x3119, 0x311a, 0x31d0, 0x31d2, 0x3001, 0xa6c1, 0xa5d4, 0xc5d5, 0xc5d4, 0xc5d5, 0xa5d4, 0xa5d5, 0xb5d4, 0xb5d5
    .hword 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x31d0, 0x31d1, 0x31d1, 0x31d2, 0x3128, 0x3129, 0x3121, 0x3122, 0x31e0, 0x31e2, 0x31ce, 0x31cf, 0xb5dc, 0xc5dd, 0xb5dc, 0xa5dd, 0xa5dc, 0xc5dd, 0xa5dc, 0xb5dd
    .hword 0xc5d4, 0xc5d5, 0xa5d4, 0xa5d5, 0xb5d4, 0xb5d5, 0xc5d4, 0xc5d5, 0x31e0, 0x31e1, 0x31d9, 0x31d9, 0x31d1, 0x31d2, 0x3120, 0x3122, 0x3004, 0x3001, 0xb5d4, 0xb5d5, 0xb5d4, 0xb5d5, 0xc5d4, 0xc5d5, 0xb5d4, 0xb5d5, 0xc5d4, 0xb5d5
    .hword 0xb5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0xa5dc, 0xa5dd, 0xc5dc, 0xb5dd, 0x31ce, 0x31cf, 0x31e0, 0x31e1, 0x31d9, 0x31da, 0x3120, 0x3122, 0x3001, 0x3004, 0xb5e4, 0xc5e5, 0xc5dc, 0xc5dd, 0xc5dc, 0xc5dd, 0xc5dc, 0xb5dd, 0xc5dc, 0xc5dd
    .hword 0xa5d4, 0xc5d5, 0xb5d4, 0xa5d5, 0xb5d4, 0xb5d5, 0xa5d4, 0xc5d5, 0xc5d4, 0xa5d5, 0xa4e0, 0x3001, 0x31d8, 0x31da, 0x3120, 0x3122, 0x3001, 0x3001, 0x3001, 0xc4e0, 0xc5d4, 0xc5d5, 0xa5d4, 0xa5d5, 0xb5d4, 0xb5d5, 0xb5d4, 0xc5d5
    .hword 0xc5dc, 0xc5dd, 0xc5dc, 0xc5dd, 0xc5dc, 0xb5dd, 0xc5dc, 0xb5dd, 0xa5dc, 0xa5dd, 0x3001, 0x3001, 0x31e0, 0x31e2, 0x3120, 0x3122, 0x3001, 0x3001, 0x3001, 0x3001, 0xa5dc, 0xb5dd, 0xc5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0xa5dc, 0xa5dd
    .hword 0xa5d4, 0xb5d5, 0xa5d4, 0xa5d5, 0xa5d4, 0xb5d5, 0xc5d4, 0xb5d5, 0xa5d4, 0xc5d5, 0xc4e0, 0x3001, 0x3004, 0x3001, 0x3120, 0x3121, 0x3119, 0x311a, 0x3001, 0x3001, 0xb5d4, 0xc5d5, 0xb5d4, 0xb5d5, 0xa5d4, 0xc5d5, 0xb5d4, 0xc5d5
    .hword 0xc5dc, 0xa5dd, 0xb5dc, 0xa5dd, 0xb5dc, 0xb5dd, 0xc5dc, 0xc5dd, 0xa5dc, 0xa5dd, 0x31ce, 0x31cf, 0x3001, 0x3004, 0x3128, 0x3129, 0x3121, 0x3122, 0x3001, 0x3001, 0xa5dc, 0xa5dd, 0xb5dc, 0xb5dd, 0xb5dc, 0xa5dd, 0xa5dc, 0xc5dd
    .hword 0xb5d4, 0xb5d5, 0xc5d4, 0xa5d5, 0xa5d4, 0xb5d5, 0xc5d4, 0xa5d5, 0xc5d4, 0xa5d5, 0xa5d4, 0xc5d5, 0xa4e0, 0x3001, 0x3001, 0x3001, 0x3120, 0x3121, 0x311a, 0x3001, 0xa5d4, 0xb5d5, 0xa5d4, 0xb5d5, 0xa5d4, 0xb5d5, 0xc5d4, 0xa5d5
    .hword 0xc5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0xb5dc, 0xa5dd, 0xa5dc, 0xc5dd, 0xc5dc, 0xc5dd, 0xb5dc, 0xc5dd, 0x31ce, 0x31cf, 0x31ce, 0x31cf, 0x3128, 0x3121, 0x3122, 0x3001, 0xc5dc, 0xa5dd, 0xc5dc, 0xa5dd, 0xb5dc, 0xb5dd, 0xb5dc, 0xc5dd
    .hword 0xa5d4, 0xa5d5, 0xc5d4, 0xb5d5, 0xc5d4, 0xc5d5, 0xa5d4, 0xa5d5, 0xc5d4, 0xb5d5, 0xb5d4, 0xa5d5, 0xc5d4, 0xa5d5, 0xa5d4, 0xb5d5, 0x3001, 0x3120, 0x3122, 0x3001, 0xc5d4, 0xa5d5, 0xa5d4, 0xa5d5, 0xa5d4, 0xc5d5, 0xc5d4, 0xb5d5
    .hword 0xb5dc, 0xb5dd, 0xc5dc, 0xa5dd, 0xb5dc, 0xc5dd, 0xb5dc, 0xc5dd, 0xb5dc, 0xa5dd, 0xb5dc, 0xb5dd, 0xb5dc, 0xc5dd, 0xc5dc, 0xa5dd, 0x3001, 0x3120, 0x3122, 0x3001, 0xa5dc, 0xb5dd, 0xc5dc, 0xc5dd, 0xc5dc, 0xb5dd, 0xc5dc, 0xb5dd
    .hword 0xa5d4, 0xb5d5, 0xc5d4, 0xa5d5, 0xc5d4, 0xc5d5, 0xb5d4, 0xa5d5, 0xb5d4, 0xb5d5, 0xb5d4, 0xb5d5, 0xc5d4, 0xb5d5, 0xb5d4, 0xc5d5, 0x3001, 0x3120, 0x3122, 0x3001, 0xa5d4, 0xb5d5, 0xa5d4, 0xc5d5, 0xa5d4, 0xc5d5, 0xc5d4, 0xc5d5
    .hword 0xc5dc, 0xc5dd, 0xc5dc, 0xc5dd, 0xc5dc, 0xb5dd, 0xc5dc, 0xa5dd, 0xb5dc, 0xc5dd, 0xb5dc, 0xc5dd, 0xb5dc, 0xa5dd, 0xc5dc, 0xc5dd, 0x3001, 0x3120, 0x3122, 0x3001, 0xc5dc, 0xc5dd, 0xa5dc, 0xc5dd, 0xa5dc, 0xa5dd, 0xa5dc, 0xa5dd
    .hword 0xc5d4, 0xb5d5, 0xc5d4, 0xc5d5, 0xb5d4, 0xa5d5, 0xb5d4, 0xa5d5, 0xa5d4, 0xa5d5, 0xb5d4, 0xa5d5, 0xc5d4, 0xb5d5, 0xb5d4, 0xa5d5, 0x3001, 0x3120, 0x3122, 0x3001, 0xb5d4, 0xc5d5, 0xa5d4, 0xb5d5, 0xc5d4, 0xb5d5, 0xc5d4, 0xa5d5
    .hword 0xc5dc, 0xa5dd, 0xa5dc, 0xc5dd, 0xb5dc, 0xc5dd, 0xb5dc, 0xb5dd, 0xc5dc, 0xa5dd, 0xc5dc, 0xa5dd, 0xc5dc, 0xa5dd, 0xa5dc, 0xc5dd, 0x3001, 0x3120, 0x3122, 0x3001, 0xb5dc, 0xc5dd, 0xa5dc, 0xb5dd, 0xa5dc, 0xa5dd, 0xa5dc, 0xa5dd
    .hword 0xa5d4, 0xb5d5, 0xb5d4, 0xb5d5, 0xb5d4, 0xb5d5, 0xc5d4, 0xb5d5, 0xa5d4, 0xb5d5, 0xb5d4, 0xa5d5, 0xa5d4, 0xb5d5, 0xa5d4, 0xb5d5, 0x3001, 0x3120, 0x3122, 0x3001, 0xc5d4, 0xc5d5, 0xc5d4, 0xb5d5, 0xb5d4, 0xa5d5, 0xc5d4, 0xc5d5
    .hword 0xb5dc, 0xc5dd, 0xb5dc, 0xc5dd, 0xb5dc, 0xb5dd, 0xa5dc, 0xb5dd, 0xa5dc, 0xb5dd, 0xb5dc, 0xc5dd, 0xa5dc, 0xb5dd, 0xa5dc, 0xc5dd, 0x3001, 0x3120, 0x3122, 0x3001, 0xc5dc, 0xc5dd, 0xc5dc, 0xc5dd, 0xb5dc, 0xa5dd, 0xb5dc, 0xa5dd

.align 4
YetAnotherRoute_MapConnections:
    .hword 0x472b
    .byte 148, 18
    .hword 0x472b
    .byte 148, 18
    .hword 0x472b
    .byte 148, 18
    .hword 0x472b
    .byte 148, 18
    .hword 0x4c21
    .byte 6, 7
    .hword 0x4c21
    .byte 6, 7
    .hword 0x4c21
    .byte 6, 7
    .hword 0x4c21
    .byte 6, 7
    .hword 19258
    .byte 135, 136

.align 4
YetAnotherRoute_MapName:
    .string "YET ANOTHER ROUTE$"

# scripts/4A34_YetAnotherRoute.s

.align 4

YetAnotherRoute_MapInitCode:
    bx lr

YetAnotherRoute_MapInitScript:
    end

YetAnotherRoute_Switch_No:
    release
    end
YetAnotherRoute_Switch_Locked:
    msgbox YetAnotherRoute_Switch_Text5
    release
    end
YetAnotherRoute_Switch_Lock:
    setflag 0x0011
    msgbox YetAnotherRoute_Switch_Text2
    release
    end
YetAnotherRoute_Switch_Unlock:
    msgbox YetAnotherRoute_Switch_Text3
    release
    end

# 0x0011 - is locked
# 0x0012 - is 1 pressed
# 0x0013 - is 2 pressed
# 0x0014 - is 3 pressed

YetAnotherRoute_Script2:
    lock
    msgbox YetAnotherRoute_Switch_Text, MSGBOX_YESNO
    compare VAR_RESULT, NO
    goto_if_eq YetAnotherRoute_Switch_No
    checkflag 0x0011
    goto_if TRUE, YetAnotherRoute_Switch_Locked
    checkflag 0x0012
    goto_if TRUE, YetAnotherRoute_Switch_Lock
    checkflag 0x0013
    goto_if TRUE, YetAnotherRoute_Switch_Lock
    checkflag 0x0014
    goto_if FALSE, YetAnotherRoute_Switch_Lock
    setflag 0x0012
    goto YetAnotherRoute_Switch_Unlock

YetAnotherRoute_Script3:
    lock
    msgbox YetAnotherRoute_Switch_Text, MSGBOX_YESNO
    compare VAR_RESULT, NO
    goto_if_eq YetAnotherRoute_Switch_No
    checkflag 0x0011
    goto_if TRUE, YetAnotherRoute_Switch_Locked
    checkflag 0x0012
    goto_if FALSE, YetAnotherRoute_Switch_Lock
    checkflag 0x0013
    goto_if TRUE, YetAnotherRoute_Switch_Lock
    checkflag 0x0014
    goto_if FALSE, YetAnotherRoute_Switch_Lock
    setflag 0x0013
    # unlock the passage
    msgbox YetAnotherRoute_Switch_Text4
    closemessage
    delay 10
    playse SE_DOOR
    setmetatile 20, 6, 0x001, FALSE
    setmetatile 21, 6, 0x001, FALSE
    setmetatile 22, 6, 0x001, FALSE
    setmetatile 23, 6, 0x001, FALSE
    setmetatile 24, 6, 0x001, FALSE
    setmetatile 25, 6, 0x001, FALSE
    setmetatile 26, 6, 0x001, FALSE
    setmetatile 27, 6, 0x001, FALSE
    setmetatile 20, 7, 0x1ce, FALSE
    setmetatile 21, 7, 0x1cf, FALSE
    setmetatile 22, 7, 0x1ce, FALSE
    setmetatile 23, 7, 0x1cf, FALSE
    setmetatile 24, 7, 0x1ce, FALSE
    setmetatile 25, 7, 0x1cf, FALSE
    setmetatile 26, 7, 0x1ce, FALSE
    setmetatile 27, 7, 0x1cf, FALSE
    setmetatile 20, 5, 0x1e4, TRUE
    setmetatile 21, 5, 0x1e5, TRUE
    setmetatile 22, 5, 0x1e4, TRUE
    setmetatile 23, 5, 0x1e5, TRUE
    setmetatile 24, 5, 0x1e4, TRUE
    setmetatile 25, 5, 0x1e5, TRUE
    setmetatile 26, 5, 0x1e4, TRUE
    setmetatile 27, 5, 0x1e5, TRUE
    callnative DrawWholeMapView
    delay 30
    release
    end

YetAnotherRoute_Script4:
    lock
    msgbox YetAnotherRoute_Switch_Text, MSGBOX_YESNO
    compare VAR_RESULT, NO
    goto_if_eq YetAnotherRoute_Switch_No
    checkflag 0x0011
    goto_if TRUE, YetAnotherRoute_Switch_Locked
    checkflag 0x0012
    goto_if TRUE, YetAnotherRoute_Switch_Locked
    checkflag 0x0013
    goto_if TRUE, YetAnotherRoute_Switch_Locked
    checkflag 0x0014
    goto_if TRUE, YetAnotherRoute_Switch_Locked
    setflag 0x0014
    goto YetAnotherRoute_Switch_Unlock

YetAnotherRoute_Switch_Text:
    .string "Oh, look! A secret switch!\n"
    .string "Press it with confidence?$"

YetAnotherRoute_Switch_Text2:
    .string "You pressed the switch, and you\n"
    .string "heard a shallow click.$"

YetAnotherRoute_Switch_Text3:
    .string "You pressed the switch, and you\n"
    .string "heard a loud, resounding click.$"

YetAnotherRoute_Switch_Text4:
    .string "You pressed the switch, and a hidden\n"
    .string "passage opened!$"

YetAnotherRoute_Switch_Text5:
    .string "You pressed the switch, but it seems\n"
    .string "like nothing happened.$"

YetAnotherRoute_Sign:
    lock
    msgbox YetAnotherRoute_Sign_Text
    release
    end

YetAnotherRoute_Sign_Text:
    .string "Welcome to Yet Another Route!\n"
    .string "It leads to Yet Another Cave, which\l"
    .string "in turn leads to Yet Another Pathway.$"

YetAnotherRoute_Script1:
    lock
    faceplayer
    msgbox YetAnotherRoute_Script1_Text
    release
    end

YetAnotherRoute_Script1_Text:
    .string "Hello! I'm yet another useless NPC,\n"
    .string "who will just say some generic lines\l"
    .string "with no gameplay impact!$"
